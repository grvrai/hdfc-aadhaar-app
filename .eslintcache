[{"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/index.js":"1","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/theme.js":"2","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/App.js":"3","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/constants.js":"4","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/services/auth-service.js":"5","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/MenuAppBar.js":"6","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/BottomNav.js":"7","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/services/peakpwa.js":"8","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/routes/RestrictedRoute.js":"9","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/routes/PrivateRoute.js":"10","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/HomeView.js":"11","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Login/LoginPage.js":"12","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/CustomerDataPage/CustomerDataPage.js":"13","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/NotificationPage/NotificationPage.js":"14","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/HomeActionsList.js":"15","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/UserCard.js":"16","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/NotificationPermWidget.js":"17","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/helpers/helpers.js":"18","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/CustomerDataPage/CustomerDataForm.js":"19","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/CustomerDataPage/CustomerDataList.js":"20","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/MarketingActivity/MarketingActivityPage.js":"21","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/MarketingActivity/MarketingActivityForm.js":"22","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/MarketingActivity/MarketingActivityList.js":"23","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/DailyActivityPage/DailyActivityPage.js":"24","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/DailyActivityPage/DailyActivityForm.js":"25","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/DailyActivityPage/DailyActivityList.js":"26","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/IssuePage/IssuePage.js":"27","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/IssuePage/IssueList.js":"28","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/IssuePage/IssueForm.js":"29","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/PageHeader.js":"30","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/services/customer-data-service.js":"31","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/FormContainer.js":"32","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/CustomerDataWidget.js":"33","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/DailyDataWidget.js":"34","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/ConfirmationDialogProvider.js":"35","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/LoadingButton.js":"36","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/RecentNotification.js":"37","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/NotificationPage/NotificationContainer.js":"38","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Login/ChangePasswordForm.js":"39","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/service-worker.js":"40","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/ContactPage/ContactForm.js":"41"},{"size":1980,"mtime":1609161058484,"results":"42","hashOfConfig":"43"},{"size":1718,"mtime":1608553605917,"results":"44","hashOfConfig":"43"},{"size":4116,"mtime":1610009874061,"results":"45","hashOfConfig":"43"},{"size":1408,"mtime":1609236865411,"results":"46","hashOfConfig":"43"},{"size":2442,"mtime":1609235174766,"results":"47","hashOfConfig":"43"},{"size":4720,"mtime":1609335261886,"results":"48","hashOfConfig":"43"},{"size":1410,"mtime":1609240844276,"results":"49","hashOfConfig":"43"},{"size":43914,"mtime":1609157957072,"results":"50","hashOfConfig":"43"},{"size":1081,"mtime":1607341592014,"results":"51","hashOfConfig":"43"},{"size":1079,"mtime":1607340433305,"results":"52","hashOfConfig":"43"},{"size":2068,"mtime":1609165844452,"results":"53","hashOfConfig":"43"},{"size":12871,"mtime":1608813570004,"results":"54","hashOfConfig":"43"},{"size":764,"mtime":1609235174763,"results":"55","hashOfConfig":"43"},{"size":3881,"mtime":1609245375198,"results":"56","hashOfConfig":"43"},{"size":2078,"mtime":1610008505466,"results":"57","hashOfConfig":"43"},{"size":2600,"mtime":1608226804761,"results":"58","hashOfConfig":"43"},{"size":2020,"mtime":1608555581856,"results":"59","hashOfConfig":"43"},{"size":3981,"mtime":1609240768049,"results":"60","hashOfConfig":"43"},{"size":7263,"mtime":1610008347089,"results":"61","hashOfConfig":"43"},{"size":8530,"mtime":1609941007261,"results":"62","hashOfConfig":"43"},{"size":735,"mtime":1608724254726,"results":"63","hashOfConfig":"43"},{"size":7038,"mtime":1609940722329,"results":"64","hashOfConfig":"43"},{"size":6152,"mtime":1609251991322,"results":"65","hashOfConfig":"43"},{"size":708,"mtime":1608727906166,"results":"66","hashOfConfig":"43"},{"size":8678,"mtime":1609942332006,"results":"67","hashOfConfig":"43"},{"size":4261,"mtime":1609305026779,"results":"68","hashOfConfig":"43"},{"size":643,"mtime":1608724273124,"results":"69","hashOfConfig":"43"},{"size":6982,"mtime":1609244982983,"results":"70","hashOfConfig":"43"},{"size":7516,"mtime":1609306195278,"results":"71","hashOfConfig":"43"},{"size":1041,"mtime":1610008610249,"results":"72","hashOfConfig":"43"},{"size":5856,"mtime":1609942261412,"results":"73","hashOfConfig":"43"},{"size":532,"mtime":1608635256085,"results":"74","hashOfConfig":"43"},{"size":4367,"mtime":1609245877730,"results":"75","hashOfConfig":"43"},{"size":3202,"mtime":1609942223382,"results":"76","hashOfConfig":"43"},{"size":2930,"mtime":1608553532276,"results":"77","hashOfConfig":"43"},{"size":648,"mtime":1608569001639,"results":"78","hashOfConfig":"43"},{"size":3152,"mtime":1609166239919,"results":"79","hashOfConfig":"43"},{"size":1747,"mtime":1609245244100,"results":"80","hashOfConfig":"43"},{"size":6415,"mtime":1608813090959,"results":"81","hashOfConfig":"43"},{"size":2837,"mtime":1609160431859,"results":"82","hashOfConfig":"43"},{"size":4536,"mtime":1610008399309,"results":"83","hashOfConfig":"43"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},"1midmro",{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"86"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"100","messages":"101","errorCount":0,"warningCount":45,"fixableErrorCount":0,"fixableWarningCount":1,"source":"102","usedDeprecatedRules":"86"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"86"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"86"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"86"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"86"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"122","messages":"123","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"86"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"131","messages":"132","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"86"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"86"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"86"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"86"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"86"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"86"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"86"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"86"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"159","usedDeprecatedRules":"86"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"86"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169","usedDeprecatedRules":"86"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"172","usedDeprecatedRules":"86"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"86"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"179","usedDeprecatedRules":"86"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"182","usedDeprecatedRules":"86"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"185","usedDeprecatedRules":"86"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/index.js",[],["190","191"],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/theme.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/App.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/constants.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/services/auth-service.js",["192"],"import {fetchData} from '../helpers/helpers'\nimport Constants from '../constants'\n\nimport AadharDataService from './customer-data-service'\nimport PeakPwa from './peakpwa';\n\nclass AuthService {\n  constructor() {\n    this._isLoggedIn = localStorage.getItem('user_data') ? true : false;\n    if(this.isLoggedIn) {\n      let user_data = localStorage.getItem('user_data')\n      if (user_data) {\n        user_data = JSON.parse(user_data);\n        // this.user_data = user_data;\n        // return user_data;\n        Constants.token = user_data.token;\n      }\n    }\n  }\n\n  async auth(username, password) {\n    let headers = new Headers();\n    headers.set('Authorization', 'Basic ' + btoa(username + \":\" + password));\n    let user_data = await fetchData('POST', `${Constants.domain}/api/login/`, {}, headers);\n    Constants.token = user_data.token;\n    let state_list = await fetchData('GET', `${Constants.domain}/api/passes/state/?assigned_user=${user_data.id}&expand=template`);\n\n    if(state_list.results.length) {\n      var state_data = state_list.results[0];\n      return { user_data, state_data };\n    } else {\n      Constants.token = null;\n      throw {\n          response: {\n            detail: 'This account is not configured to be used with this app.'\n          }\n      }      \n    }\n  }\n\n  login(user_data, state_data) {\n    this._isLoggedIn = true;\n    localStorage.setItem('user_data', JSON.stringify(user_data));\n\tlocalStorage.setItem('state_data', JSON.stringify(state_data));\n\t\n\tPeakPwa.webapp.setStateData(state_data);\n    PeakPwa.subscribe();\n  }\n\n  logout() {\n\tAadharDataService.dropCache();\n\tPeakPwa.unsubscribe();\n\t// localStorage.clear();\n\tConstants.token = null\t;\n    this._isLoggedIn = false;\n  }\n\n  getUserData() {\n    if (this.user_data) {\n      return this.user_data;\n    } else {\n      let user_data = localStorage.getItem('user_data')\n      if (user_data) {\n        user_data = JSON.parse(user_data);\n        this.user_data = user_data;\n        return user_data;\n      }\n    }\n  }\n\n  getUserState() {\n    if (this.state_data) {\n      return this.state_data;\n    } else {\n      let state_data = localStorage.getItem('state_data')\n      if (state_data) {\n        state_data = JSON.parse(state_data);\n        this.state_data = state_data;\n        return state_data;\n      }\n    }\n  }\n\n  isLoggedIn() {\n    if (this._isLoggedIn) {\n      return true;\n    } else {\n      return false\n    }\n  }\n}\n\nexport default new AuthService()","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/MenuAppBar.js",["193","194","195","196","197"],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/BottomNav.js",["198"],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/services/peakpwa.js",["199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243"],"import bowser from 'bowser'\n// import localforage from \"localforage\"\nimport {getQueryParam} from './../helpers/helpers'\nimport localforage from 'localforage'\n\nimport PeakConstants from './../constants'\n\nvar PeakPwa = function () {\n\t'use strict';\n\tvar location = window.location;\n\n\tvar LS_USER_SUBSCRIBED_STATUS = location.hostname + '-' + 'ls-subscribe-cache';\n\tvar LS_USER_PERM_STATUS = location.hostname + '-' + 'ls-perm-cache';\n\tvar LS_DENIED_NOTIF_PERMISSION = location.hostname + '-' + 'ls-denied-notif';\n\n\tvar PWA_SUPPORTED_BROWSERS = {\n\t\tdesktop: ['Chrome'],\n\t\tmobile: ['Samsung Internet for Android', 'Chrome', 'Firefox', 'Safari']\n\t}\n\tvar NOTIFICATIONS_SUPPORTED_BROWSERS = {\n\t\tdesktop: ['Chrome', 'Firefox', 'Safari', 'Opera'],\n\t\tmobile: ['Samsung Internet for Android', 'Chrome', 'Firefox', 'Safari', 'UC Browser', 'Opera']\n\t}\n\n\tvar NAMESPACE = \"peakpwa\";\n\n\tvar webapp = {\n\t\tinitialized: false,\n\t\tdomain: location.origin,\n\t\tapp: null,\n\t\tserialno: null,\n\t\ta2hsEvent: null,\n\t\tvapid: null,\n\t\tisSubscribed: false,\n\t\tsubscription: null,\n\t\tserviceWorkerRegistration: null,\n\t};\n\n\t/** Execute on start **/\n\twebapp.init = async function (constants, state) {\n\t\tconsole.log(constants)\n\t\tif(webapp.isInit) return;\n\n\t\tif(state) {\n\t\t\tconstants.serialno = state.template.serialno;\n\t\t\tconstants.state_data = state;\n\t\t}\n\t\t\n\n\t\twebapp.constants = constants;\n\n\t\t// Add constants to webapp\n\t\tfor (var k in constants) {\n\t\t\tif (constants.hasOwnProperty(k)) {\n\t\t\t\twebapp[k] = constants[k];\n\t\t\t}\n\t\t}\n\n\t\tawait webapp.registerServiceWorker();\n\n\t\tvar tracker_sn = webapp.getTrackerSerialno();\n\t\twebapp.installed = tracker_sn ? tracker_sn : false;\n\n\t\t// Check for src param if not subscribed yet\n\t\tif(!webapp.installed) {\n\t\t\tlet install_param = getQueryParam('src');\n\t\t\tif (install_param) localStorage.setItem('install_parameter', install_param);\n\t\t}\n\n\t\t// Cache tracker/constants for use by service worker\n\t\twebapp.idbCache.init();\n\t\twebapp.idbCache.set('trackerSerialno', tracker_sn);\n\t\twebapp.idbCache.set('peak_constants', constants);\n\n\t\twebapp.initListeners();\n\n\t\tif(!state) {\n\t\t\tdocument.dispatchEvent(new CustomEvent('PeakPwaInit', {}));\n\t\t\twebapp.isInit = true;\n\t\t\treturn;\n\t\t};\n\n\t\tlet isSubscribed = await webapp.getSubscriptionStatus();\n\t\tlet isAddedToHomescreen = webapp.isAddedToHomescreen();\n\t\tlet isPermGranted = webapp.getPermissionStatus() == 'granted';\n\n\t\t// Fix forms in chrome mobile PWAs\n\t\tif (isAddedToHomescreen && bowser.mobile && bowser.chrome) {\n\t\t\twebapp.fixFormsTarget();\n\t\t}\n\n\t\t// Save device token on Safari APNS\n\t\tif (webapp.is_safari_with_apns()) {\n\t\t\tvar permData = window.safari.pushNotification.permission(webapp.apns_push_id);\n\t\t\tif (permData.permission == 'granted')\n\t\t\t\twebapp.deviceToken = permData.deviceToken;\n\t\t}\n\n\t\tif (webapp.installed) {\n\t\t\twebapp.initialized = true;\n\t\t\tdocument.dispatchEvent(new CustomEvent('PeakPwaInit', {}));\n\t\t\twebapp.initGeolocationPerms();\n\t\t\twebapp.updateTokenIfChanged();\n\t\t}\n\n\t\tif (!webapp.installed) {\n\t\t\tif (isAddedToHomescreen || isPermGranted) {\n\t\t\t\tdocument.dispatchEvent(new CustomEvent('PeakPwaInstallStart', {}));\n\t\t\t\twebapp.subscribe(function () {\n\t\t\t\t\tif (isAddedToHomescreen) {\n\t\t\t\t\t\twebapp.logPwaFirstLaunchEvents();\n\t\t\t\t\t\tdocument.dispatchEvent(new CustomEvent('PwaFirstLaunch', {}));\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clear html to update tags\n\t\t\t\t\tif (webapp.app != 'website') webapp.refreshHtmlCache();\n\n\t\t\t\t\twebapp.initialized = true;\n\t\t\t\t\twebapp.installed = true;\n\n\t\t\t\t\tdocument.dispatchEvent(new CustomEvent('PeakPwaInstallFinished', {}));\n\t\t\t\t\tdocument.dispatchEvent(new CustomEvent('PeakPwaInit', {}));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdocument.dispatchEvent(new CustomEvent('PeakPwaInit', {}));\n\t\t\t}\n\t\t}\n\n\t\twebapp.logVisitEvents();\n\n\t\twebapp.isInit = true;\n\t}\n\n\twebapp.getSubscriptionStatus = function () {\n\t\tvar userSubStatus = localStorage.getItem(LS_USER_SUBSCRIBED_STATUS);\n\n\t\t// If a browser supports PushManager, use it to check subscription status\n\t\tif ('PushManager' in window) {\n\t\t\treturn webapp.serviceWorkerRegistration.pushManager.getSubscription()\n\t\t\t\t.then(function (subscription) {\n\t\t\t\t\twebapp.subscription = subscription;\n\t\t\t\t\twebapp.isSubscribed = !(subscription === null);\n\t\t\t\t\treturn webapp.isSubscribed;\n\t\t\t\t});\n\n\t\t\t// In other browsers like Safari iOS check localStorage only\n\t\t} else if ((bowser.mobile && bowser.safari) || webapp.is_safari_with_apns()) {\n\t\t\twebapp.isSubscribed = !(userSubStatus == 'subscribed');\n\t\t\treturn Promise.resolve(webapp.isSubscribed);\n\t\t}\n\t}\n\n\twebapp.initGeolocationPerms = function () {\n\t\tif ('permissions' in navigator) {\n\t\t\tnavigator.permissions.query({\n\t\t\t\t\tname: 'geolocation'\n\t\t\t\t})\n\t\t\t\t.then(function (permissionStatus) {\n\t\t\t\t\t// console.log('geolocation permission state is ', permissionStatus.state);\n\t\t\t\t\tif (permissionStatus.state == 'granted') {\n\t\t\t\t\t\tlocalStorage.setItem(`${NAMESPACE}_geo_enabled`, 'true')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocalStorage.setItem(`${NAMESPACE}_geo_enabled`, 'false')\n\t\t\t\t\t}\n\t\t\t\t\tpermissionStatus.onchange = function () {\n\t\t\t\t\t\t// console.log('geolocation permission state has changed to ', this.state);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (webapp.isGeoLocationEnabled()) webapp.updateLocIfNeeded();\n\t\t\t\t});\n\t\t} else {\n\t\t\tif (webapp.isGeoLocationEnabled()) webapp.updateLocIfNeeded();\n\t\t}\n\t}\n\n\twebapp.registerServiceWorker = async function () {\n\t\t// console.log('ServiceWorker Registered');\n\t\tif (PeakConstants.app == 'website') {\n\t\t\tvar sw_url = PeakConstants.serviceWorker_path ? PeakConstants.serviceWorker_path : `./PeakServiceWorker.js`;\n\t\t} else {\n\t\t\tsw_url = './service-worker.js'\n\t\t}\n\n\t\tif ('serviceWorker' in navigator) {\n\t\t\tlet swRegOptions = {}\n\t\t\tif (PeakConstants.serviceWorker_scope) {\n\t\t\t\tswRegOptions.scope = PeakConstants.serviceWorker_scope;\n\t\t\t}\n\t\t\tlet serviceWorkerRegistration = await navigator.serviceWorker.register(sw_url, swRegOptions)\n\t\t\twebapp.serviceWorkerRegistration = serviceWorkerRegistration;\n\t\t\tdocument.dispatchEvent(new CustomEvent('onServiceWorkerRegistered', {}));\n\t\t\treturn serviceWorkerRegistration;\n\t\t}\n\n\t\treturn Promise.reject();\n\t}\n\n\t// function showNotfEnablePopup() {\n\t// \tif (PeakPwa.webapp.getPermissionStatus() != 'default') return;\n\n\t// \tvar cache_key_ts = 'notif-enable-popup-shown';\n\n\t// \tfunction showPopup() {\n\t// \t\tnew PeakPwaUi.components.NotificationEnableComponent('pk-notif-popup').render().show();\n\t// \t\twebapp.idbCache.set(cache_key_ts, Date.now());\n\t// \t}\n\n\t// \tvar delta_pd = convertJsonDeltaToMs(webapp.constants.notif_popup_throttle ? webapp.constants.notif_popup_throttle : {\n\t// \t\t\"days\": 1\n\t// \t});\n\n\t// \tif (!delta_pd) {\n\t// \t\tshowPopup();\n\t// \t\treturn;\n\t// \t}\n\n\t// \t//Check throttle\n\t// \treturn webapp.idbCache.get(cache_key_ts).then(function (last_log) {\n\t// \t\tif (!last_log) return showPopup();\n\t// \t\tlast_log = new Date(last_log).getTime();\n\t// \t\tvar now = Date.now()\n\t// \t\tif ((now - last_log) > delta_pd) {\n\t// \t\t\tshowPopup();\n\t// \t\t}\n\t// \t});\n\t// }\n\n\twebapp.injectCss = async function (url, parent=document) {\n\t\tconst linkElem = document.createElement('link');\n\t\tlinkElem.setAttribute('rel', 'stylesheet');\n\t\tlinkElem.setAttribute('href', url);\n\t\tparent.appendChild(linkElem);\n\t}\n\n\twebapp.initListeners = function () {\n\t\tdocument.addEventListener('toggleSubscription', function (e) {\n\t\t\tif (webapp.serviceWorkerRegistration) {\n\t\t\t\tvar userSubStatus = localStorage.getItem(LS_USER_SUBSCRIBED_STATUS);\n\t\t\t\tif (userSubStatus == 'subscribed') {\n\t\t\t\t\twebapp.unsubscribe();\n\t\t\t\t} else {\n\t\t\t\t\twebapp.subscribe();\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\n\t\tif ('serviceWorker' in navigator) {\n\t\t\tnavigator.serviceWorker.addEventListener('message', (e) => {\n\t\t\t\twindow.postMessage('onUnreadIncremented', location.origin);\n\t\t\t});\n\t\t}\n\t}\n\n\twebapp.getSubscription = function (callback) {\n\t\tif (webapp.subscription) {\n\t\t\twebapp.isSubscribed = true;\n\t\t\treturn callback(webapp.subscription)\n\n\t\t} else if ('PushManager' in window) {\n\t\t\twebapp.serviceWorkerRegistration.pushManager.getSubscription()\n\t\t\t\t.then(function (subscription) {\n\t\t\t\t\twebapp.subscription = subscription;\n\t\t\t\t\twebapp.isSubscribed = !(subscription === null);\n\t\t\t\t\tcallback(subscription)\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tcallback(null);\n\t\t}\n\t}\n\n\t/** Event utility  **/\n\n\twebapp.logVisitEvents = function () {\n\t\tif (!webapp.isOnline()) return;\n\n\t\tvar events_to_log = [];\n\n\t\tvar tracker_sn = webapp.getTrackerSerialno();\n\t\tif (tracker_sn) {\n\t\t\tevents_to_log.push('daily_visit_with_tracker');\n\t\t\tevents_to_log.push('visit_with_tracker');\n\n\t\t\tif (webapp.isAddedToHomescreen()) {\n\t\t\t\tevents_to_log.push('pwa_visit');\n\t\t\t\tevents_to_log.push('daily_pwa_visit');\n\t\t\t}\n\n\t\t} else if (!webapp.isPwaSupported() && !webapp.isNotificationSupported()) {\n\t\t\twebapp.logEvent('unsupported_browser', {\n\t\t\t\tbrowser_name: bowser.name,\n\t\t\t\tuser_agent: navigator.userAgent,\n\t\t\t\tdevice: `${bowser.osname} - ${bowser.osversion}`\n\t\t\t});\n\n\t\t} else {\n\t\t\tevents_to_log.push('visit_without_tracker');\n\t\t}\n\n\t\tif (events_to_log.length) webapp.logEvents(events_to_log);\n\t}\n\n\twebapp.logPwaFirstLaunchEvents = function () {\n\t\twebapp.logEvent(\"pwa_opened\");\n\t\tif (!bowser.chrome) webapp.logEvent(\"appinstalled\");\n\t}\n\n\t/** General Utility  **/\n\n\twebapp.isAddedToHomescreen = function () {\n\t\t//Check for undectable browsers\n\t\tvar undetectable_standalone_browsers = [\"samsung\", \"ucbrowser\"];\n\t\tvar webapp_start_url = '?homescreen=1'; // ?homescreen=1\n\t\tfor (var i = 0; i < undetectable_standalone_browsers.length; i++) {\n\t\t\tvar browser = undetectable_standalone_browsers[i].toLowerCase();\n\t\t\tif (window.navigator.userAgent.toLowerCase().indexOf(browser) > 0 && window.location.href.indexOf(webapp_start_url) > 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn window.matchMedia('(display-mode: standalone)').matches;\n\t}\n\n\twebapp.isLoadedInFrame = function () {\n\t\ttry {\n\t\t\treturn window.self !== window.top;\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\twebapp.urlB64ToUint8Array = function (base64String) {\n\t\tconst padding = '='.repeat((4 - base64String.length % 4) % 4);\n\t\tconst base64 = (base64String + padding)\n\t\t\t.replace(/\\-/g, '+')\n\t\t\t.replace(/_/g, '/');\n\n\t\tconst rawData = window.atob(base64);\n\t\tconst outputArray = new Uint8Array(rawData.length);\n\n\t\tfor (var i = 0; i < rawData.length; ++i) {\n\t\t\toutputArray[i] = rawData.charCodeAt(i);\n\t\t}\n\t\treturn outputArray;\n\t}\n\n\twebapp.isMobile = function () {\n\t\treturn navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile|SamsungBrowser|UCBrowser)/);\n\t}\n\n\twebapp.isPwaSupported = function () {\n\t\tvar browser_list = PWA_SUPPORTED_BROWSERS[bowser.mobile ? 'mobile' : 'desktop'];\n\n\t\t// Exception for chrome as it supports only after v66\n\t\tif (bowser.name == 'Chrome' && parseInt(bowser.version) < 66) return false;\n\n\t\t// On iOS, only allow Safari\n\t\tif (bowser.ios && !bowser.safari) return false;\n\n\t\treturn (browser_list.indexOf(bowser.name) >= 0) ? true : false;\n\t}\n\n\twebapp.isNotificationSupported = function () {\n\t\tvar browser_list = NOTIFICATIONS_SUPPORTED_BROWSERS[bowser.mobile ? 'mobile' : 'desktop'];\n\n\t\t// On iOS, reject all browsers\n\t\tif (bowser.ios && !bowser.safari) return false;\n\n\t\treturn (browser_list.indexOf(bowser.name) >= 0) ? true : false;\n\t}\n\n\twebapp.getUiMode = function (self = this) {\n\n\t\t// Set mode\n\t\tvar mode = '',\n\t\t\tisSubscribed = PeakPwa.isSubscribed(),\n\t\t\tpermStatus = PeakPwa.getPermissionStatus(),\n\t\t\taddedToHome = PeakPwa.isAddedToHomescreen();\n\n\t\tswitch (true) {\n\t\t\tcase ( //(!isSubscribed && permStatus !== 'granted' && !addedToHome) ||\n\t\t\t\t(!PeakPwa.webapp.getTrackerSerialno())):\n\t\t\t\tmode = 'disabled'\n\t\t\t\tbreak;\n\t\t\tcase ((isSubscribed && permStatus === 'granted')):\n\t\t\t\tmode = 'enabled'\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tmode = 'pull';\n\t\t}\n\t\treturn mode;\n\t}\n\n\twebapp.loadJS = function (url, implementationCode, location) {\n\t\tif (!location) location = document.body;\n\t\tvar scriptTag = document.createElement('script');\n\t\tscriptTag.src = url;\n\t\tif (implementationCode) {\n\t\t\tscriptTag.onload = implementationCode;\n\t\t\tscriptTag.onreadystatechange = implementationCode;\n\t\t}\n\t\tlocation.appendChild(scriptTag);\n\t}\n\n\twebapp.uuidv4 = function () {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\t\tvar r = Math.random() * 16 | 0,\n\t\t\t\tv = c == 'x' ? r : (r & 0x3 | 0x8);\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\twebapp.isOnline = function () {\n\t\treturn navigator.onLine;\n\t}\n\n\twebapp.checkThrottle = function (delta, cache_key_ts) {\n\t\tvar delta_pd = convertJsonDeltaToMs(delta);\n\t\treturn webapp.idbCache.get(cache_key_ts)\n\t\t\t.then(function (last_log) {\n\t\t\t\tif (!last_log) return true;\n\t\t\t\tlast_log = new Date(last_log).getTime();\n\t\t\t\tvar now = Date.now()\n\t\t\t\tif ((now - last_log) > delta_pd) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tfunction convertJsonDeltaToMs(delta) {\n\t\tvar delta_s = 0;\n\t\tif (delta.days) delta_s += delta.days * 86400;\n\t\tif (delta.hours) delta_s += delta.hours * 3600;\n\t\tif (delta.minutes) delta_s += delta.minutes * 60;\n\t\tif (delta.seconds) delta_s += delta.seconds;\n\t\treturn delta_s * 1000;\n\t}\n\n\twebapp.fixFormsTarget = function () {\n\t\t// This is meant to fix a but with form POSTs with target=\"_blank\"\n\t\tvar forms = document.querySelectorAll('form[target=\"_blank\"]');\n\t\tfor (var i = 0; i < forms.length; i++) {\n\t\t\tforms[i].removeAttribute(\"target\");\n\t\t}\n\t}\n\n\twebapp.isUiAllowedOnPage = function () {\n\t\treturn (!PeakConstants.allowed_paths || !PeakConstants.allowed_paths.length ||\n\t\t\t\tPeakConstants.allowed_paths.indexOf(window.location.pathname) >= 0) &&\n\t\t\t(PeakConstants.app == 'website')\n\t}\n\n\n\t/** Notification API **/\n\n\twebapp.getNotificationsUrl = async function (trackerSerialno, id = null) {\n\t\tvar url = `${webapp.domain}/api/communication/notification/`;\n\t\tif (id) url += `${id}/`;\n\t\turl += `?bypass_sw=true&tracker__serialno=${trackerSerialno}&order_by=-createdAt&localize=true`;\n\n\t\treturn url;\n\t}\n\n\twebapp.getNotifications = async function (noCache = false) {\n\t\tvar serialno = webapp.getTrackerSerialno();\n\t\tlet cached_notifs = await webapp.idbCache.getNotifications()\n\t\tif (!noCache && cached_notifs) return cached_notifs;\n\t\tlet url = await webapp.getNotificationsUrl(serialno);\n\t\tlet response = await fetch(url, {\n\t\t\tcache: \"no-cache\"\n\t\t})\n\n\t\tif (response.status < 300) {\n\t\t\twebapp.logEvent(\"fetch_notifications\");\n\t\t\tvar data = await response.json()\n\t\t\tvar formatted_notifs = webapp.formatNotificationsList(data)\n\t\t\twebapp.idbCache.cacheNotifications(formatted_notifs);\n\t\t\treturn formatted_notifs;\n\t\t}\n\t}\n\n\twebapp.deleteNotification = async function (id) {\n\t\twebapp.logEvent(\"delete_notification\");\n\t\tvar serialno = webapp.getTrackerSerialno();\n\t\tlet url = await webapp.getNotificationsUrl(serialno, id)\n\t\treturn fetch(url, {\n\t\t\tmethod: \"DELETE\",\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t}\n\n\twebapp.formatNotificationsList = function (data) {\n\t\tvar formatted_notifs = [];\n\t\tfor (var i = 0; i < data.results.length; i++) {\n\t\t\tvar notif = {\n\t\t\t\tid: data.results[i].id,\n\t\t\t\tchangeTitle: data.results[i].shared_notification.notification_title,\n\t\t\t\tchangeMessage: data.results[i].shared_notification.notification_message,\n\t\t\t\tcreatedAt: data.results[i].createdAt\n\t\t\t}\n\t\t\tif (data.results[i].shared_notification.metadata) {\n\t\t\t\tfor (var key in data.results[i].shared_notification.metadata) {\n\t\t\t\t\tif (data.results[i].shared_notification.metadata.hasOwnProperty(key)) {\n\t\t\t\t\t\tnotif[key] = data.results[i].shared_notification.metadata[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.results[i].metadata) {\n\t\t\t\tfor (var key in data.results[i].metadata) {\n\t\t\t\t\tif (data.results[i].metadata.hasOwnProperty(key)) {\n\t\t\t\t\t\tnotif[key] = data.results[i].metadata[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tformatted_notifs.push(notif);\n\t\t}\n\t\t// console.log(formatted_notifs);\n\t\treturn formatted_notifs;\n\t}\n\n\n\t/** State/Tracker API **/\n\n\twebapp.getInstallToken = function () {\n\t\tif (webapp.constants.install_token) return webapp.constants.install_token;\n\t\tif (webapp.is_safari_with_apns()) {\n\t\t\tvar permData = window.safari.pushNotification.permission(webapp.apns_push_id)\n\t\t\treturn permData.deviceToken;\n\t\t}\n\n\t\tlet key = `${NAMESPACE}_installToken_${webapp.constants.state_data.id}`;\n\t\tvar installToken = localStorage.getItem(key);\n\t\tif (!installToken) {\n\t\t\tinstallToken = webapp.uuidv4();\n\t\t\tlocalStorage.setItem(key, installToken);\n\t\t}\n\t\treturn installToken;\n\t}\n\n\twebapp.getTrackerSerialno = function () {\n\t\tif (webapp.constants.tracker_serialno) return webapp.constants.tracker_serialno;\n\t\tlet key = `${NAMESPACE}_trackerSerialno_${webapp.constants?.state_data?.id}`;\n\t\tvar serialno = localStorage.getItem(key);\n\t\treturn serialno;\n\t}\n\n\twebapp.getDeviceLibraryId = function() {\n\t\treturn webapp.idbCache.get('deviceLibraryId')\n\t}\n\n\twebapp.setStateData = function(state)  {\n\t\twebapp.serialno = state.template.serialno;\n\t\twebapp.constants.serialno = state.template.serialno;\n\t\twebapp.constants.state_data = state;\n\t\tlocalStorage.setItem(`${NAMESPACE}_stateSerialno`, state.serialno);\n\t\tlocalStorage.setItem(`${NAMESPACE}_stateId`, state.id);\n\t\tlocalStorage.setItem(`${NAMESPACE}_stateEncodedId`, state.encoded_id);\n\t}\n\n\twebapp.getStateSerialno = function () {\n\t\tif (webapp.constants.state_serialno) return webapp.constants.state_serialno;\n\t\tvar serialno = localStorage.getItem(`${NAMESPACE}_stateSerialno`);\n\t\treturn serialno;\n\t}\n\n\twebapp.getTemplateId = function () {\n\t\tif (webapp.constants.template_id) return webapp.constants.template_id;\n\t\treturn localStorage.getItem(`${NAMESPACE}_templateId`);\n\t}\n\n\twebapp.getStateUrl = function (trackerSerialno, id = null) {\n\t\tvar url = `${webapp.domain}/api/passes/state/`;\n\t\tif (id) url += `${id}/`;\n\t\t// url += `?tracker__serialno=${trackerSerialno}`;\n\t\treturn url;\n\t}\n\n\twebapp.getState = function (reload=false) {\n\t\tvar cache_key = `state_data`;\n\n\t\tfunction fetchState() {\n\t\t\treturn fetch(webapp.getStateUrl('', webapp.getStateId()), {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tserialno: webapp.getStateSerialno()\n\t\t\t\t})\n\t\t\t}).then(function (response) {\n\t\t\t\tif (response.status < 300) return response.json()\n\t\t\t}).then(function (data) {\n\t\t\t\twebapp.idbCache.set(cache_key, data);\n\t\t\t\treturn data;\n\t\t\t});\n\t\t}\n\n\t\tif(reload) return fetchState();\n\n\t\treturn webapp.idbCache.get(cache_key)\n\t\t\t.then((cached_state) => {\n\t\t\t\tif (cached_state) return cached_state;\n\t\t\t\treturn fetchState();\n\t\t\t});\n\t}\n\n\twebapp.updateState = function (state_payload) {\n\t\tvar cache_key = `state_data`;\n\t\treturn fetch(PeakPwa.webapp.getStateUrl('', PeakPwa.webapp.getStateId()), {\n\t\t\tmethod: \"PUT\",\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(state_payload)\n\t\t}).then(function (response) {\n\t\t\tif (response.status < 300) {\n\t\t\t\tresponse.json().then(function (data) {\n\t\t\t\t\tPeakPwa.idbCache.set(cache_key, data);\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n\n\twebapp.getStateId = function () {\n\t\tif (webapp.constants.state_id) return webapp.constants.state_id;\n\t\treturn localStorage.getItem(`${NAMESPACE}_stateId`);\n\t}\n\t\n\twebapp.getStateEncodedId = function () {\n\t\tif (webapp.constants.state_id) return webapp.constants.state_id;\n\t\treturn localStorage.getItem(`${NAMESPACE}_stateEncodedId`);\n\t}\n\n\n\t/** Preference Definitions API **/\n\n\twebapp.getPreferencesUrl = function () {\n\t\tvar url = `${webapp.domain}/api/communication/preferencedefinition/?serialno=${webapp.serialno}&order_by=display_position&display=true&content_type__name=checkbox`;\n\t\treturn url;\n\t}\n\n\twebapp.getPreferenceDefinitions = function () {\n\t\tvar cache_key = 'preference_defs',\n\t\t\tcache_key_ts = 'preference_defs_ts';\n\n\t\tfunction fetchPreferences() {\n\t\t\treturn fetch(webapp.getPreferencesUrl(), {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\tif (response.status < 300) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t}\n\t\t\t}).then(function (data) {\n\t\t\t\twebapp.idbCache.set(cache_key, data);\n\t\t\t\twebapp.idbCache.set(cache_key_ts, Date.now());\n\t\t\t\treturn data;\n\t\t\t});\n\t\t}\n\n\t\treturn webapp.idbCache.get(cache_key).then((cached_data) => {\n\t\t\tif (!cached_data) return fetchPreferences();\n\n\t\t\t// Check for throttle\n\t\t\tvar delta_pd = webapp.constants.preference_defs_throttle ? convertJsonDeltaToMs(webapp.constants.preference_defs_throttle) : false;\n\t\t\tif (!delta_pd) {\n\t\t\t\treturn cached_data ? cached_data : fetchPreferences()\n\t\t\t}\n\n\t\t\tif (delta_pd) {\n\t\t\t\treturn webapp.idbCache.get(cache_key_ts).then(function (last_log) {\n\t\t\t\t\tif (!last_log) return fetchPreferences();\n\t\t\t\t\tlast_log = new Date(last_log).getTime();\n\t\t\t\t\tvar now = Date.now()\n\t\t\t\t\tif ((now - last_log) > delta_pd) {\n\t\t\t\t\t\treturn fetchPreferences();\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn cached_data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\n\t/** LoyaltyActions/Data/Config **/\n\n\twebapp.getLoyaltyData = function (no_cache) {\n\t\tvar cache_key = 'ldata';\n\n\t\tfunction fetchLoyaltyData() {\n\t\t\treturn fetch(webapp.getLoyaltyDataUrl(), {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\tif (response.status < 300) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t}\n\t\t\t}).then(function (data) {\n\t\t\t\twebapp.idbCache.set(cache_key, data.results[0]);\n\t\t\t\treturn data.results[0];\n\t\t\t});\n\t\t}\n\n\t\treturn webapp.idbCache.get(cache_key)\n\t\t\t.then((cached_data) => {\n\t\t\t\tconsole.log(cached_data);\n\t\t\t\tif (!cached_data || no_cache) return fetchLoyaltyData();\n\t\t\t\treturn cached_data;\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\twebapp.getLoyaltyDataUrl = function () {\n\t\tvar url = `${webapp.domain}/api/loyalty/loyaltydata/?serialno=${webapp.getStateSerialno()}`;\n\t\treturn url;\n\t}\n\n\twebapp.getLoyaltyActions = function (no_cache) {\n\t\tvar cache_key = 'loyalty_actions';\n\n\t\tfunction fetchActions() {\n\t\t\treturn fetch(webapp.getLoyaltyActionsUrl(), {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\tif (response.status < 300) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t}\n\t\t\t}).then(function (data) {\n\t\t\t\twebapp.idbCache.set(cache_key, data.results);\n\t\t\t\treturn data.results;\n\t\t\t});\n\t\t}\n\n\t\treturn webapp.idbCache.get(cache_key).then((cached_data) => {\n\t\t\tif (!cached_data || no_cache) return fetchActions();\n\t\t\treturn cached_data;\n\t\t});\n\t}\n\n\twebapp.getLoyaltyActionsUrl = function () {\n\t\tvar url = `${webapp.domain}/api/loyalty/loyaltyaction/?serialno=${webapp.getStateSerialno()}`;\n\t\treturn url;\n\t}\n\n\n\t/** PkPass Handling **/\n\n\twebapp.createAndGetWalletCardUrl = async function (state_sn = null, callback = null) {\n\t\tlet wallet_url = (state_id, state_sn, template_sn) => `${webapp.constants.domain}/p/${template_sn}/state/${state_id}/${state_sn}/download/`;\n\t\tif (!state_sn) state_sn = webapp.getStateSerialno();\n\t\tif (!state_sn) {\n\t\t\tlet state = await webapp.createStateForPass();\n\t\t\tstate_sn = state.serialno\n\t\t}\n\n\t\tlet state_id = webapp.getStateEncodedId();\n\t\tlet pass_url = wallet_url(state_id, state_sn, webapp.constants.serialno)\n\t\tif (callback) callback(pass_url);\n\t\treturn pass_url\n\t}\n\n\twebapp.createStateForPass = async function() {\n\t\tlet response = await fetch(`${webapp.domain}/api/passes/state-action/create_temp_state/`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttemplate_serialno: webapp.constants.serialno\n\t\t\t})\n\t\t});\n\n\t\tlet json = {}\n\t\tjson = await response.json();\n\n\t\twebapp.setStateData(json.state);\n\t\treturn json.state\n\t}\n\n\twebapp.isPkPassAdded = async function () {\n\t\tlet state_sn = webapp.getStateSerialno()\n\t\tif (!state_sn) {\n\t\t\treturn Promise.resolve(false);\n\t\t}\n\n\t\tlet response = await fetch(`${webapp.domain}/api/passes/state-action/is_pkpass_added/`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tstate_serialno: state_sn\n\t\t\t})\n\t\t})\n\t\t\n\t\tlet json = await response.json();\n\t\t\n\t\tif(json.tracker && !webapp.getTrackerSerialno()) {\n\t\t\tlocalStorage.setItem(`${NAMESPACE}_trackerSerialno`, json.tracker.serialno);\n\t\t\twebapp.idbCache.set('trackerSerialno', json.tracker.serialno);\n\t\t\twebapp.idbCache.set('deviceLibraryId', json.tracker.devicelibraryid);\n\t\t\twebapp.logVisitEvents();\n\t\t}\n\n\t\treturn json.is_pkpass_added\n\t}\n\n\n\t/** Push un/subscription **/\n\n\twebapp.getSubscriptionUrl = function (id = null) {\n\t\tif (webapp.is_safari_with_apns()) {\n\t\t\tvar url = `${webapp.domain}/p/${webapp.serialno}/app/${webapp.app}/${webapp.deviceToken}/${webapp.deviceToken}/`;\n\t\t} else {\n\t\t\tvar installToken = webapp.getInstallToken();\n\t\t\turl = `${webapp.domain}/p/${webapp.serialno}/app/${webapp.app}/${installToken}/${installToken}/`;\n\t\t}\n\t\tif (id) url += `${id}/`\n\t\treturn url;\n\t}\n\n\twebapp.reportSubscriptionChange = function () {\n\t\tvar userSubStatus = localStorage.getItem(LS_USER_SUBSCRIBED_STATUS);\n\t\tvar event = new CustomEvent('onSubscriptionChange', {\n\t\t\tdetail: {\n\t\t\t\tisSubscribed: (userSubStatus == 'subscribed')\n\t\t\t}\n\t\t});\n\t\tdocument.dispatchEvent(event);\n\t}\n\n\twebapp.reportSubscriptionChangeStart = function () {\n\t\tvar userSubStatus = localStorage.getItem(LS_USER_SUBSCRIBED_STATUS);\n\t\tvar event = new CustomEvent('onSubscriptionChangeStart', {});\n\t\tdocument.dispatchEvent(event);\n\t}\n\n\twebapp.is_safari_with_apns = function () {\n\t\treturn 'safari' in window && 'pushNotification' in window.safari;\n\t}\n\n\twebapp.requestNotificationPermission = function () {\n\t\treturn new Promise(function (resolve, reject) {\n\n\t\t\tif (webapp.is_safari_with_apns()) {\n\n\t\t\t\t// Check if perm has already been given\n\t\t\t\tlet perm_data = window.safari.pushNotification.permission(PeakPwa.webapp.apns_push_id);\n\n\t\t\t\tif (perm_data.permission == 'granted') {\n\t\t\t\t\twebapp.deviceToken = perm_data.deviceToken;\n\t\t\t\t\tresolve(perm_data.permission);\n\t\t\t\t}\n\n\t\t\t\tvar webPushUrl = `${webapp.domain}/p/${webapp.serialno}/app/${webapp.app}`;\n\t\t\t\tvar webPushId = webapp.apns_push_id;\n\t\t\t\tvar payload = {\n\t\t\t\t\t\"web_service_url\": webPushUrl,\n\t\t\t\t\t\"serialno\": webapp.serialno,\n\t\t\t\t\t\"destination\": document.location.href\n\t\t\t\t};\n\t\t\t\t// console.log(payload);\n\n\t\t\t\twindow.safari.pushNotification.requestPermission(\n\t\t\t\t\twebPushUrl,\n\t\t\t\t\twebPushId,\n\t\t\t\t\tpayload,\n\t\t\t\t\t(resultData) => {\n\t\t\t\t\t\tresolve(resultData.permission);\n\t\t\t\t\t\tif (resultData.permission == 'granted') {\n\t\t\t\t\t\t\twebapp.deviceToken = resultData.deviceToken;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\t// const permissionResult = Notification.requestPermission(function (result) {\n\t\t\t\t// \tresolve(result);\n\t\t\t\t// });\n\t\t\t\t// if (permissionResult) {\n\t\t\t\t// \tpermissionResult.then(resolve, reject);\n\t\t\t\t// }\n\n\t\t\t\tNotification.requestPermission().then(resolve, reject);\n\t\t\t}\n\t\t});\n\t}\n\n\twebapp.getSafariPushPayload = function () {\n\t\tlet webPushUrl = `${webapp.domain}/p/${webapp.serialno}/app/${webapp.app}`;\n\t\tlet webPushId = webapp.apns_push_id;\n\t\tlet payload = {\n\t\t\t\"web_service_url\": webPushUrl,\n\t\t\t\"serialno\": webapp.serialno,\n\t\t\t\"destination\": document.location.href\n\t\t};\n\t\treturn payload;\n\t}\n\n\twebapp.getPermissionStatus = function () {\n\t\tif ('Notification' in window) {\n\t\t\tif (bowser.safari && typeof safari != 'undefined') {\n\t\t\t\treturn window.safari.pushNotification.permission(PeakPwa.webapp.apns_push_id).permission;\n\t\t\t}\n\t\t\treturn Notification.permission;\n\t\t} else {\n\t\t\treturn 'unavailable';\n\t\t}\n\t}\n\n\twebapp.requestNotificationPermissionAndSubscribe = function (callback) {\n\n\t\treturn webapp.requestNotificationPermission()\n\t\t\t.then(function (permissionResult) {\n\t\t\t\tif (permissionResult === 'ignore') {\n\t\t\t\t\t// console.log('Permission ignored... bypass');\n\n\t\t\t\t} else if (permissionResult !== 'granted') {\n\t\t\t\t\tvar previouslyDenied = localStorage.getItem(LS_DENIED_NOTIF_PERMISSION) || false;\n\t\t\t\t\tif (!previouslyDenied) {\n\t\t\t\t\t\twebapp.logEvent(\"perm_notif_denied\");\n\t\t\t\t\t}\n\t\t\t\t\tlocalStorage.setItem(LS_DENIED_NOTIF_PERMISSION, true);\n\t\t\t\t\twebapp.reportSubscriptionChange();\n\n\t\t\t\t} else {\n\t\t\t\t\twebapp.logEvent(\"perm_notif_granted\");\n\t\t\t\t\tlocalStorage.setItem(LS_DENIED_NOTIF_PERMISSION, false);\n\t\t\t\t\twebapp.reportSubscriptionChangeStart();\n\t\t\t\t\twebapp.handlePermissionGranted(callback);\n\t\t\t\t}\n\t\t\t\treturn permissionResult;\n\t\t\t})\n\t\t\t.catch(function (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\twebapp.handlePermissionGranted = async function (callback) {\n\t\tif (!webapp.is_safari_with_apns()) {\n\t\t\tlet subscription = await webapp.serviceWorkerRegistration.pushManager.getSubscription()\n\t\t\t// If subscription exists, just register with backend\n\t\t\t// Else get subscription, and register with backend.\n\t\t\twebapp.isSubscribed = !(subscription === null);\n\t\t\tif (webapp.isSubscribed) {\n\t\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'subscribed');\n\t\t\t\twebapp.subscription = subscription;\n\t\t\t\twebapp.isSubscribed = true;\n\t\t\t\twebapp.subscribeWithBackend(callback);\n\n\t\t\t} else {\n\t\t\t\tconst applicationServerKey = webapp.urlB64ToUint8Array(webapp.vapid);\n\t\t\t\tsubscription = await webapp.serviceWorkerRegistration.pushManager.subscribe({\n\t\t\t\t\tuserVisibleOnly: true,\n\t\t\t\t\tapplicationServerKey: applicationServerKey\n\t\t\t\t});\n\n\t\t\t\tif (subscription) {\n\t\t\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'subscribed');\n\t\t\t\t\twebapp.subscription = subscription;\n\t\t\t\t\twebapp.isSubscribed = true;\n\t\t\t\t\tawait webapp.subscribeWithBackend(callback);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'subscribed');\n\t\t\tvar permData = window.safari.pushNotification.permission(webapp.apns_push_id)\n\t\t\twebapp.subscription = permData.deviceToken;\n\t\t\twebapp.isSubscribed = true;\n\t\t\tawait webapp.subscribeWithBackend(callback);\n\t\t}\n\t}\n\n\twebapp.subscribeWithBackend = async function (callback) {\n\t\t// console.log('subscribeWithBackend');\n\n\t\tvar sub_payload = {\n\t\t\t\"device_type\": window.navigator.platform,\n\t\t\t\"certificate_for\": null,\n\t\t};\n\n\t\tif (webapp.state_xid) {\n\t\t\tsub_payload.xid = webapp.state_xid;\n\t\t}\n\n\t\tif (webapp.is_safari_with_apns()) {\n\t\t\tsub_payload.push_token = webapp.subscription ? webapp.subscription : JSON.stringify({});\n\t\t\tsub_payload.pass_type_id = PeakConstants.apns_push_id;\n\t\t} else {\n\t\t\tsub_payload.push_token = webapp.subscription ? JSON.stringify(webapp.subscription) : JSON.stringify({});\n\t\t}\n\n\t\tlet state_data = localStorage.getItem('state_data')\n\t\tif(state_data) {\n\t\t\tstate_data = JSON.parse(state_data);\n\t\t\tsub_payload.xid = state_data.xid;\n\t\t}\n\n\t\t// Set install param if passed\n\t\tlet install_param = localStorage.getItem('install_parameter');\n\t\tif(install_param) sub_payload.install_parameter = install_param;\n\n\t\tlet response = await fetch(webapp.getSubscriptionUrl(), {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(sub_payload),\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\n\t\tvar json = {}\n\t\ttry {\n\t\t\tjson = await response.json();\n\t\t} catch (e) {}\n\n\t\tvar isNewSub = webapp.getTrackerSerialno() ? false : true;\n\n\t\tlocalStorage.setItem(`${NAMESPACE}_trackerSerialno_${json.state.id}`, json.tracker.serialno);\n\t\tlocalStorage.setItem(`${NAMESPACE}_stateSerialno`, json.state.serialno);\n\t\tlocalStorage.setItem(`${NAMESPACE}_stateId`, json.state.id);\n\t\tlocalStorage.setItem(`${NAMESPACE}_stateEncodedId`, json.state.encoded_id);\n\t\tif(json.template) {\n\t\t\tlocalStorage.setItem(`${NAMESPACE}_templateId`, json.template.id);\n\t\t}\n\t\twebapp.idbCache.set('pushToken', sub_payload.push_token);\n\t\twebapp.idbCache.set('trackerSerialno', json.tracker.serialno);\n\n\t\twebapp.logVisitEvents();\n\t\tif (sub_payload.push_token != '{}') {\n\t\t\twebapp.logEvent(\"reg_with_pushtoken\");\n\t\t}\n\n\t\tif (isNewSub) document.dispatchEvent(new CustomEvent('PeakPwaInitalSubscription', {}));\n\t\tif (callback) callback();\n\t\t\n\t\twebapp.reportSubscriptionChange();\n\t}\n\n\twebapp.unsubscribeWithBackend = function () {\n\t\t// console.log('unsubscribeWithBackend');\n\t\tfetch(webapp.getSubscriptionUrl(), {\n\t\t\tmethod: \"DELETE\",\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t}).then((response) => {\n\t\t\twebapp.reportSubscriptionChange();\n\t\t});\n\t}\n\n\twebapp.subscribe = async function (callback) {\n\t\tif (!webapp.serviceWorkerRegistration) return;\n\n\t\twebapp.reportSubscriptionChangeStart();\n\n\t\t// Auto subscribe on chrome if permission has already been given\n\t\tif ('Notification' in window && webapp.subscription == null && Notification.permission == 'granted') {\n\t\t\tawait webapp.handlePermissionGranted(callback);\n\n\t\t\t// Handle Safari subscription\n\t\t} else if (webapp.is_safari_with_apns()) {\n\t\t\tvar permData = window.safari.pushNotification.permission(webapp.apns_push_id);\n\t\t\tif (!permData.deviceToken) return;\n\t\t\twebapp.subscription = permData.deviceToken;\n\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'subscribed');\n\t\t\tawait webapp.subscribeWithBackend(callback);\n\n\t\t} else if (bowser.mobile && bowser.safari) {\n\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'subscribed');\n\t\t\tawait webapp.subscribeWithBackend(callback);\n\n\t\t} else {\n\t\t\tlet subscription = await webapp.serviceWorkerRegistration.pushManager.getSubscription()\n\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'subscribed');\n\t\t\twebapp.subscription = subscription;\n\t\t\twebapp.isSubscribed = true;\n\t\t\tawait webapp.subscribeWithBackend(callback);\n\t\t}\n\t}\n\n\twebapp.unsubscribe = function () {\n\t\tif (webapp.serviceWorkerRegistration) {\n\t\t\twebapp.reportSubscriptionChangeStart();\n\t\t\tif (webapp.is_safari_with_apns()) {\n\t\t\t\tvar permData = window.safari.pushNotification.permission(webapp.apns_push_id)\n\t\t\t\twebapp.subscription = permData.deviceToken;\n\t\t\t\twebapp.isSubscribed = false;\n\t\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'unsubscribed');\n\t\t\t\twebapp.unsubscribeWithBackend();\n\t\t\t} else {\n\t\t\t\twebapp.serviceWorkerRegistration.pushManager.getSubscription()\n\t\t\t\t\t.then(function (subscription) {\n\t\t\t\t\t\twebapp.subscription = subscription;\n\t\t\t\t\t\twebapp.isSubscribed = false;\n\t\t\t\t\t\tlocalStorage.setItem(LS_USER_SUBSCRIBED_STATUS, 'unsubscribed');\n\t\t\t\t\t\twebapp.unsubscribeWithBackend();\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\twebapp.inSubscribedStatus = function () {\n\t\tvar userSubStatus = localStorage.getItem(LS_USER_SUBSCRIBED_STATUS);\n\t\treturn userSubStatus === 'subscribed';\n\t}\n\n\twebapp.updateTokenIfChanged = async function () {\n\t\tif (!bowser.safari && webapp.getTrackerSerialno()) {\n\t\t\tlet token = await webapp.serviceWorkerRegistration.pushManager.getSubscription()\n\t\t\ttoken = token ? JSON.stringify(token) : JSON.stringify({});\n\n\t\t\tvar cachedToken = await webapp.idbCache.get('pushToken');\n\n\t\t\tif (cachedToken != token) {\n\t\t\t\tawait webapp.updateToken(token);\n\t\t\t\tPeakPwa.webapp.logEvent(token != \"{}\" ? 'push_token_set' : 'push_token_cleared');\n\t\t\t}\n\n\t\t\tif ((token == '{}') && PeakPwa.webapp.getPermissionStatus() == 'granted') {\n\t\t\t\twebapp.handlePermissionGranted();\n\t\t\t}\n\t\t}\n\t}\n\n\twebapp.updateToken = async function (push_token) {\n\t\tvar payload = {\n\t\t\tpush_token: push_token\n\t\t}\n\t\tlet response = await fetch(`${webapp.domain}/api/passes/tracker/${webapp.getTrackerSerialno()}/updatetoken/`, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify(payload),\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\tawait webapp.idbCache.set('pushToken', push_token);\n\t}\n\n\twebapp.logEvent = function(event) {\n\t\twebapp.logEvents([event]);\n\t} \n\n\twebapp.logEvents = async function (events) {\n\t\tif (!webapp.isOnline()) return;\n\t\t\n\t\t// console.log(events);\n\n\t\t// Check and filter out throttled events\n\t\tvar c_promises = [];\n\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\tc_promises.push(checkEventThrottle(events[i]));\n\t\t}\n\t\tevents = await Promise.all(c_promises)\n\t\tevents = events.filter(function (value, index, arr) {\n\t\t\treturn value ? value : false;\n\t\t});\n\n\t\tif (!events.length) return;\n\n\t\t// Log events\n\t\tlet payload = {\n\t\t\t'app': webapp.app,\n\t\t\t'action_list': events,\n\t\t\t'action_qualifier': '',\n\t\t\t'template_serialno': webapp.serialno,\n\t\t\t'tracker_serialno': webapp.getTrackerSerialno(),\n\t\t\t'metadata': {}\n\t\t};\n\n\t\tif (bowser.mobile && bowser.safari) {\n\t\t\tvar device_lib_id = await webapp.getDeviceLibraryId();\n\t\t\tif (device_lib_id) {\n\t\t\t\tpayload['tracker_devicelibraryid'] = device_lib_id;\n\t\t\t}\t\t\t\n\t\t}\n\n\t\tvar serialno = webapp.getTrackerSerialno();\n\t\tlet response = await fetch(`${webapp.domain}/api/passes/action/log/`, {\n\t\t\tmethod: \"POST\",\n\t\t\tcache: \"no-cache\",\n\t\t\tbody: JSON.stringify(payload),\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t}\n\t\t})\n\t\t\n\t\t// If tracker/template not found, reset\n\t\tif (response.status == 400) {\n\t\t\tlet text = await response.text();\n\t\t\tif (text.toLowerCase().indexOf('template') >= 0 || text.toLowerCase().indexOf('tracker') >= 0) {\n\t\t\t\twebapp.reset();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Update throttles\n\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\tvar event = events[i];\n\t\t\tif (webapp.constants.action_throttles[event]) {\n\t\t\t\tvar cache_key = `${NAMESPACE}_throttle_${event}`;\n\t\t\t\tlocalforage.setItem(cache_key, Date.now())\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function checkEventThrottle(event) {\n\t\tif (!webapp.constants.action_throttles && !webapp.constants.action_throttles[event]) {\n\t\t\treturn event;\n\t\t}\n\n\t\tvar cache_key = `${NAMESPACE}_throttle_${event}`;\n\t\tlet last_log = await localforage.getItem(cache_key)\n\t\tif (!last_log) return event;\n\t\t\n\t\tlast_log = new Date(last_log).getTime();\n\t\tvar now = Date.now()\n\t\tvar throttle_delta = getThrottleDelta(event);\n\t\tif ((now - last_log) > throttle_delta) {\n\t\t\treturn event;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction getThrottleDelta(event) {\n\t\tvar delta = webapp.constants.action_throttles[event];\n\t\tif (!delta) return 0;\n\t\treturn convertJsonDeltaToMs(delta);\n\t}\n\n\n\t/** Location Handling **/\n\n\twebapp.isGeoLocationEnabled = function () {\n\t\tif (localStorage.getItem(`${NAMESPACE}_geo_enabled`) == 'true') {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\twebapp.getGeolocation = function (onSuccess, onError) {\n\t\tfunction showLocation(position) {\n\t\t\tvar latitude = position.coords.latitude;\n\t\t\tvar longitude = position.coords.longitude;\n\t\t\tlocalStorage.setItem(`${NAMESPACE}_geo_enabled`, 'true');\n\t\t\t// console.log(\"Latitude : \" + latitude + \" Longitude: \" + longitude);\n\n\t\t\tif (latitude == localStorage.getItem(`${NAMESPACE}_geo_lat`) &&\n\t\t\t\tlongitude == localStorage.getItem(`${NAMESPACE}_geo_long`)) {\n\t\t\t\t// console.log('Not updating location as location is unchanged.')\n\t\t\t\tif (typeof onSuccess == 'function') onSuccess(latitude, longitude);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlocalStorage.setItem(`${NAMESPACE}_geo_lat`, latitude);\n\t\t\tlocalStorage.setItem(`${NAMESPACE}_geo_long`, longitude);\n\t\t\twebapp.updateLocation(latitude, longitude);\n\t\t\tif (typeof onSuccess == 'function') onSuccess(latitude, longitude);\n\t\t}\n\n\t\tfunction errorHandler(err) {\n\t\t\t// console.log(err)\n\t\t\tlocalStorage.setItem(`${NAMESPACE}_geo_enabled`, 'false')\n\t\t\tif (typeof onError == 'function') onError(err);\n\t\t\t// if(err.code == 1) {\n\t\t\t// \t// alert(\"Error: Access is denied!\");\n\t\t\t// }\telse if( err.code == 2) {\n\t\t\t// \t// alert(\"Error: Position is unavailable!\");\n\t\t\t// }\n\t\t}\n\n\t\tif (navigator.geolocation) {\n\t\t\tvar options = {\n\t\t\t\ttimeout: 60000\n\t\t\t};\n\t\t\tnavigator.geolocation.getCurrentPosition(showLocation, errorHandler, options);\n\t\t} else {\n\t\t\t// console.log(\"Sorry, browser does not support geolocation!\");\n\t\t}\n\t}\n\n\twebapp.updateLocation = function (lat, lng) {\n\t\tvar tracker_sn = webapp.getTrackerSerialno();\n\t\tif (!tracker_sn) return;\n\t\tfetch(`${webapp.domain}/p/${tracker_sn}/locations/`, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tlat: lat,\n\t\t\t\tlng: lng\n\t\t\t})\n\t\t}).then((response) => {\n\n\t\t})\n\t}\n\n\twebapp.updateLocIfNeeded = function () {\n\t\tif (bowser.name == 'Safari') {\n\t\t\treturn;\n\t\t}\n\t\tif (!webapp.isOnline()) return;\n\n\t\tvar delta = webapp.constants.location_update_throttle;\n\t\tif (!delta) return;\n\n\t\tvar cache_key = `${NAMESPACE}_location_update_ts`;\n\t\tvar throttle_delta = convertJsonDeltaToMs(delta);\n\t\tlocalforage.getItem(cache_key)\n\t\t\t.then(function (last_log) {\n\t\t\t\tif (!last_log) {\n\t\t\t\t\tlocalforage.setItem(cache_key, Date.now())\n\t\t\t\t\twebapp.getGeolocation()\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlast_log = new Date(last_log).getTime();\n\t\t\t\tvar now = Date.now()\n\t\t\t\tif ((now - last_log) > throttle_delta) {\n\t\t\t\t\t// console.log('Updating Location..');\n\t\t\t\t\twebapp.getGeolocation()\n\t\t\t\t\tlocalforage.setItem(cache_key, Date.now())\n\t\t\t\t} else {\n\t\t\t\t\t// console.log('Not Updating Location');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\n\t/** IndexedDB Cache **/\n\n\twebapp.idbCache = (function () {\n\t\tvar IDB_CACHES = {\n\t\t\tnotif: 'notifs-db',\n\t\t\tldata: 'ldata-db',\n\t\t\tunread: 'unread-db'\n\t\t}\n\n\t\tfunction getLoyaltyData() {\n\t\t\treturn localforage.getItem(IDB_CACHES.ldata)\n\t\t\t\t.catch(function (err) {});\n\t\t}\n\n\t\tfunction getNotifications() {\n\t\t\treturn localforage.getItem(IDB_CACHES.notif)\n\t\t\t\t.catch(function (err) {\n\t\t\t\t\t// console.log(err);\n\t\t\t\t});\n\t\t}\n\n\t\tfunction deleteNotification(id) {\n\t\t\treturn localforage.getItem(IDB_CACHES.notif)\n\t\t\t\t.then((data) => {\n\t\t\t\t\tif (!data) data = [];\n\t\t\t\t\tfor (var j = 0; j < data.length; j++) {\n\t\t\t\t\t\tif (data[j].id == id || (!data[j].id && !id)) {\n\t\t\t\t\t\t\tdata.splice(j, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn localforage.setItem(IDB_CACHES.notif, data);\n\t\t\t\t})\n\t\t}\n\n\t\tfunction cacheNotifications(notifs) {\n\t\t\treturn localforage.setItem(IDB_CACHES.notif, notifs);\n\t\t}\n\n\t\tfunction getUnreadCount() {\n\t\t\treturn localforage.getItem(IDB_CACHES.unread)\n\t\t\t\t.catch(function (err) {\n\t\t\t\t\t// console.log(err);\n\t\t\t\t});\n\t\t}\n\n\t\tfunction setUnreadCount(count) {\n\t\t\treturn localforage.setItem(IDB_CACHES.unread, count);\n\t\t}\n\n\t\tfunction dropCaches() {\n\t\t\tlocalforage.clear();\n\t\t\tfor (var key in IDB_CACHES) {\n\n\t\t\t}\n\t\t}\n\n\t\tfunction set(key, val) {\n\t\t\treturn localforage.setItem(key, val);\n\t\t}\n\n\t\tfunction get(key) {\n\t\t\treturn localforage.getItem(key);\n\t\t}\n\n\t\tfunction init() {\n\t\t\tif (webapp.constants.app != 'website' && webapp.constants.tracker_serialno) {\n\t\t\t\tvar tracker_sn = webapp.constants.tracker_serialno;\n\t\t\t\tIDB_CACHES = {\n\t\t\t\t\tnotif: `notifs-db-${tracker_sn}`,\n\t\t\t\t\tldata: `ldata-db-${tracker_sn}`,\n\t\t\t\t\tunread: `unread-db-${tracker_sn}`\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (webapp.constants.app != 'website') {\n\t\t\t\tvar serialno = webapp.constants.tracker_serialno;\n\t\t\t\tserialno.replace('-', '_');\n\t\t\t\tconsole.log('idbCache init');\n\t\t\t\tlocalforage.config({\n\t\t\t\t\tname: webapp.constants.tracker_serialno ? `PeakPwa_${serialno}` : 'PeakPwa',\n\t\t\t\t\tversion: 1.0,\n\t\t\t\t\tstoreName: 'PeakPwaStore',\n\t\t\t\t\tdescription: 'A storage for PeakPwa specific items.'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tinit: init,\n\t\t\tgetLoyaltyData: getLoyaltyData,\n\t\t\tgetNotifications: getNotifications,\n\t\t\tdeleteNotification: deleteNotification,\n\t\t\tcacheNotifications: cacheNotifications,\n\t\t\tgetUnreadCount: getUnreadCount,\n\t\t\tsetUnreadCount: setUnreadCount,\n\t\t\tdropCaches: dropCaches,\n\t\t\tset: set,\n\t\t\tget: get,\n\t\t\tIDB_CACHES: IDB_CACHES\n\t\t}\n\t})();\n\n\n\t/** Browser Support **/\n\n\twebapp.getSupportedBrowsersForPwa = function () {\n\t\treturn PWA_SUPPORTED_BROWSERS;\n\t}\n\n\twebapp.getSupportedBrowsersForNotifications = function () {\n\t\treturn NOTIFICATIONS_SUPPORTED_BROWSERS;\n\t}\n\n\twebapp.reload = function () {\n\t\tif (webapp.onReload && typeof (webapp.onReload) == 'function') {\n\t\t\twebapp.onReload();\n\t\t}\n\n\t\t//Drop all default IDB caches\n\t\tif (webapp.idbCache) webapp.idbCache.dropCaches();\n\n\t\t//Msg SW to reload or reload\n\t\tif ('serviceWorker' in navigator && navigator.serviceWorker.controller) {\n\t\t\tnavigator.serviceWorker.controller.postMessage('refresh');\n\t\t} else {\n\t\t\tlocation.reload();\n\t\t}\n\t}\n\n\twebapp.reset = function () {\n\t\twebapp.idbCache.dropCaches();\n\t\tlocalStorage.clear();\n\t\tlet isPermGranted = webapp.getPermissionStatus() == 'granted';\n\t\tif (isPermGranted) {\n\t\t\twebapp.subscribe(function () {\n\t\t\t\twebapp.logVisitEvents();\n\t\t\t});\n\t\t} else {\n\t\t\twebapp.reportSubscriptionChange();\n\t\t}\n\t}\n\n\treturn {\n\t\tinit: webapp.init,\n\t\tsubscribe: webapp.subscribe,\n\t\tunsubscribe: webapp.unsubscribe,\n\t\tisSubscribed: webapp.inSubscribedStatus,\n\t\tisMobile: webapp.isMobile,\n\t\tisOnline: webapp.isOnline,\n\t\tisAddedToHomescreen: webapp.isAddedToHomescreen,\n\t\tgetNotifications: webapp.getNotifications,\n\t\t// getLatestNotifications: webapp.getLatestNotifications,\n\t\tdeleteNotification: webapp.deleteNotification,\n\t\trequestNotificationPermissionAndSubscribe: webapp.requestNotificationPermissionAndSubscribe,\n\t\tgetPermissionStatus: webapp.getPermissionStatus,\n\t\tidbCache: webapp.idbCache,\n\t\tgetUiMode: webapp.getUiMode,\n\t\tisPwaSupported: webapp.isPwaSupported,\n\t\tisNotificationSupported: webapp.isNotificationSupported,\n\t\twebapp: webapp\n\t}\n}();\n\nexport default PeakPwa","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/routes/RestrictedRoute.js",[],["244","245"],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/routes/PrivateRoute.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/HomeView.js",["246","247","248","249","250","251","252"],"import React from 'react';\nimport logo from './../../logo.png';\n\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport { Button, Paper } from '@material-ui/core';\n\nimport NotificationPermissionWidget from './NotificationPermWidget'\nimport RecentNotification from './RecentNotification'\nimport UserCard from './UserCard'\nimport HomeActionsList from './HomeActionsList'\nimport CustomerDataWidget from './CustomerDataWidget'\nimport DailyDataWidget from './DailyDataWidget'\n\nimport PeakPwa from './../../services/peakpwa'\n\n\n\nclass HomeView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isPermGranted: PeakPwa.getPermissionStatus() == 'granted',\n      isPushRecieved: false\n    }\n\n    this.handlePermissionChange = this.handlePermissionChange.bind(this);\n    this.handlePushReceived = this.handlePushReceived.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('onSubscriptionChange', this.handlePermissionChange);\n    navigator.serviceWorker.addEventListener('message', this.handlePushReceived);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('onSubscriptionChange', this.handlePermissionChange);\n    navigator.serviceWorker.removeEventListener('message', this.handlePushReceived);\n  }\n\n  handlePermissionChange() {\n    console.log('handlePermissionChange')\n    this.setState({\n      isPermGranted: PeakPwa.getPermissionStatus() == 'granted'\n    });\n  }\n\n  handlePushReceived(e) {\n\tconsole.log('handlePushReceived');\n\tconsole.log(e.data);\n    if(e.data.action == 'push_received') {\n      this.setState({\n        isPushRecieved: true\n      });\n    }\n  }\n\n  render() {\n    return (\n      <Container style={{padding: '1rem'}}>\n        <RecentNotification />\n        <UserCard state={this.props.state} />\n        {!this.state.isPermGranted ? <NotificationPermissionWidget /> : ''}\n        <CustomerDataWidget />\n        <DailyDataWidget />\n        <HomeActionsList />     \n      </Container>\n  );\n  }\n }\n\n\n\nexport default HomeView;","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Login/LoginPage.js",["253","254","255","256","257","258","259","260","261","262","263"],"import React from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport logo from \"./../../logo.png\";\n\nimport AuthService from \"./../../services/auth-service\";\n\nimport LoadingButton from \"./../../Components/LoadingButton\";\nimport Constants from \"../../constants\";\nimport { fetchData, getQueryParam } from \"./../../helpers/helpers\";\nimport { Box } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport { Switch, Route } from \"react-router-dom\";\n\nclass LoginPage extends React.Component {\n  render() {\n    let path = this.props.match.path;\n    console.log(\"LoginPage\");\n    console.log(path);\n    return (\n      <Container maxWidth=\"sm\" className=\"\">\n        <Paper\n          style={{ padding: \"2rem\", textAlign: \"center\", marginTop: \"1rem\" }}>\n          <img\n            src={process.env.PUBLIC_URL + \"/Aadhar-Color.png\"}\n            className=\"App-logo\"\n            alt=\"logo\"\n            style={{ padding: \"1rem\" }}\n          />\n          <Grid container style={{ marginBottom: \"1rem\" }}>\n            <Grid item xs={12}>\n              <Typography variant=\"h5\" component=\"h1\">\n                Welcome to Adhaar Reporting App\n              </Typography>\n            </Grid>\n          </Grid>\n          <Switch>\n            <Route path={path} exact>\n              <LoginForm onLoginSuccess={this.props.onLoginSuccess} />\n            </Route>\n            <Route path={\"/password_reset\"} exact>\n              <PasswordResetRequestForm />\n            </Route>\n            <Route path={\"/password_reset/validate\"} exact>\n              <PasswordResetConfirmForm />\n            </Route>\n          </Switch>\n        </Paper>\n      </Container>\n    );\n  }\n}\n\nfunction LoginForm({ onLoginSuccess }) {\n  const [state, setState] = React.useState({\n    general_error: \"\",\n    isLoading: false,\n  });\n  const [username, setUsername] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  //   const [username, setUsername] = React.useState('');\n  //   const [username, setUsername] = React.useState('');\n  let history = useHistory();\n  const handleSubmit = async function (e) {\n    e.preventDefault();\n    if (!window.navigator.onLine) {\n      setState({\n        general_error:\n          \"You are currently offline. Please connect to the internet to perform this action.\",\n        isLoading: false,\n      });\n      return;\n    }\n\n    setState({\n      general_error: \"\",\n      isLoading: true,\n    });\n\n    try {\n      let { user_data, state_data } = await AuthService.auth(\n        username,\n        password\n      );\n      onLoginSuccess(user_data, state_data);\n    } catch (err) {\n      console.log(err);\n      setState({ isLoading: false });\n\n      for (const key in err.response) {\n        if (key == \"non_field_errors\" || key == \"detail\") {\n          setState({\n            general_error: err.response[key],\n          });\n        }\n      }\n    }\n  };\n\n  return (\n    <form className=\"login-form\" autoComplete=\"off\" onSubmit={handleSubmit}>\n      <Grid container spacing={3}>\n        {state.general_error ? (\n          <Grid item xs={12}>\n            <Alert severity=\"error\">{state.general_error}</Alert>\n          </Grid>\n        ) : (\n          \"\"\n        )}\n\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            name=\"username\"\n            label=\"Phone No/Email\"\n            variant=\"outlined\"\n            value={username}\n            onChange={(event) => {\n              setUsername(event.target.value);\n            }}\n            disabled={state.isLoading}\n            required\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"Password\"\n            variant=\"outlined\"\n            value={password}\n            onChange={(event) => {\n              setPassword(event.target.value);\n            }}\n            disabled={state.isLoading}\n            required\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <LoadingButton\n            btnText=\"Login\"\n            loadingText=\"Logging In\"\n            isLoading={state.isLoading}\n            color=\"secondary\"\n            fullWidth\n            type=\"submit\"\n            variant=\"contained\"\n            size=\"large\"\n          />\n          <Button\n            style={{ marginTop: \"1rem\" }}\n            onClick={() => {\n              history.push(\"/password_reset/\");\n            }}\n            color=\"secondary\"\n            variant=\"text\">\n            Set/Reset Password\n          </Button>\n        </Grid>\n      </Grid>\n    </form>\n  );\n}\n\nfunction PasswordResetRequestForm({}) {\n  let history = useHistory();\n  const [isSuccess, setSuccess] = React.useState(null);\n  const [state, setState] = React.useState({\n    general_error: \"\",\n    isLoading: false,\n  });\n\n  const [username, setUsername] = React.useState(\"\");\n\n  const handleSubmit = async function (e) {\n    if (!window.navigator.onLine) {\n      setState({\n        general_error:\n          \"You are currently offline. Please connect to the internet to perform this action.\",\n        isLoading: false,\n      });\n      return;\n    }\n    e.preventDefault();\n    setState({\n      general_error: \"\",\n      isLoading: true,\n    });\n\n    try {\n      let resp = await fetchData(\n        \"POST\",\n        `${Constants.domain}/api/reset_password/request/`,\n        {\n          username: username,\n          redirect_url: `${Constants.domain}/s/d/aadhaar/password_reset/validate/`,\n          send_sms: true,\n        }\n\t  );\n      setSuccess(true);\n      // let {user_data, state_data} = await AuthService.auth(this.state.username, this.state.password)\n      //   onLoginSuccess(user_data, state_data);\n    } catch (err) {\n      setState({\n        isLoading: false,\n      });\n      for (const key in err.response) {\n        if (key == \"non_field_errors\" || key == \"detail\") {\n          setState({\n            general_error: err.response[key],\n          });\n        }\n      }\n    }\n  };\n\n  return (\n    <div>\n      {isSuccess ? (\n        <Box>\n          <Typography>\n            Password reset link has been sent to your email and phone.\n          </Typography>\n          <Button\n            style={{ marginTop: \"1rem\" }}\n            onClick={() => {\n              history.push(\"/\");\n            }}\n            color=\"secondary\"\n            variant=\"text\">\n            Return to Login\n          </Button>\n        </Box>\n      ) : (\n        <form\n          className=\"password-reset-req-form\"\n          autoComplete=\"off\"\n          onSubmit={handleSubmit}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <Box textAlign=\"left\">\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                  Enter your phone or email address below to receive a password\n                  reset link.\n                </Typography>\n              </Box>\n            </Grid>\n            {state.general_error ? (\n              <Grid item xs={12}>\n                <Alert severity=\"error\">{state.general_error}</Alert>\n              </Grid>\n            ) : (\n              \"\"\n            )}\n\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                name=\"username\"\n                label=\"Phone No/Email\"\n                variant=\"outlined\"\n                value={username}\n                onChange={(event) => setUsername(event.target.value)}\n                disabled={state.isLoading}\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <LoadingButton\n                btnText=\"Send Password Link\"\n                loadingText=\"Sending Password Link\"\n                isLoading={state.isLoading}\n                color=\"secondary\"\n                fullWidth\n                type=\"submit\"\n                variant=\"contained\"\n                size=\"large\"\n              />\n              <Button\n                style={{ marginTop: \"1rem\" }}\n                onClick={() => {\n                  history.push(\"/\");\n                }}\n                color=\"secondary\"\n                variant=\"text\">\n                Return to Login\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      )}\n    </div>\n  );\n}\n\nfunction PasswordResetConfirmForm({}) {\n  let history = useHistory();\n  const [isSuccess, setSuccess] = React.useState(null);\n  const [state, setState] = React.useState({\n    general_error: \"\",\n    isLoading: false,\n  });\n\n  const [password, setPassword] = React.useState(\"\");\n  const [password2, setPassword2] = React.useState(\"\");\n\n  const handleSubmit = async function (e) {\n    e.preventDefault();\n    if (!window.navigator.onLine) {\n      setState({\n        general_error:\n          \"You are currently offline. Please connect to the internet to perform this action.\",\n        isLoading: false,\n      });\n      return;\n    }\n    if (password !== password2) {\n      setState({\n        general_error: \"The 2 enetered passwords do not match.\",\n        isLoading: false,\n      });\n      return;\n    }\n    setState({\n      general_error: \"\",\n      isLoading: true,\n    });\n\n    try {\n      await fetchData(\n        \"POST\",\n        `${Constants.domain}/api/reset_password/confirm/`,\n        {\n          new_password: password,\n          token: getQueryParam(\"password_token\"),\n          //   send_sms: true,\n        }\n      );\n      setSuccess(true);\n      // let {user_data, state_data} = await AuthService.auth(this.state.username, this.state.password)\n      // onLoginSuccess(user_data, state_data);\n    } catch (err) {\n      console.log(err);\n      for (const key in err.response) {\n        if (key == \"non_field_errors\" || key == \"detail\") {\n          setState({\n            general_error: err.response[key],\n            isLoading: false,\n          });\n        }\n      }\n    }\n  };\n\n  return (\n    <div>\n      {isSuccess ? (\n        <Box>\n          <Typography>Your password has been updated successfully</Typography>\n\n          <Button\n            style={{ marginTop: \"1rem\" }}\n            onClick={() => {\n              history.push(\"/\");\n            }}\n            color=\"secondary\"\n            variant=\"text\">\n            Return to Login\n          </Button>\n        </Box>\n      ) : (\n        <form\n          className=\"password-reset-req-form\"\n          autoComplete=\"off\"\n          onSubmit={handleSubmit}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <Box textAlign=\"left\">\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                  Enter your new password below to set it.\n                </Typography>\n              </Box>\n            </Grid>\n\n            {state.general_error ? (\n              <Grid item xs={12}>\n                <Alert severity=\"error\">{state.general_error}</Alert>\n              </Grid>\n            ) : (\n              \"\"\n            )}\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                variant=\"outlined\"\n                type=\"password\"\n                value={password}\n                onChange={(event) => setPassword(event.target.value)}\n                disabled={state.isLoading}\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                name=\"password2\"\n                type=\"password\"\n                label=\"Repeat Password\"\n                variant=\"outlined\"\n                value={password2}\n                onChange={(event) => setPassword2(event.target.value)}\n                disabled={state.isLoading}\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <LoadingButton\n                btnText=\"Reset Password\"\n                loadingText=\"Resetting Password\"\n                isLoading={state.isLoading}\n                color=\"secondary\"\n                fullWidth\n                type=\"submit\"\n                variant=\"contained\"\n                size=\"large\"\n              />\n              <Button\n                style={{ marginTop: \"1rem\" }}\n                onClick={() => {\n                  history.push(\"/\");\n                }}\n                color=\"secondary\"\n                variant=\"text\">\n                Return to Login\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default LoginPage;\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/CustomerDataPage/CustomerDataPage.js",["264","265"],"import React from 'react';\n\nimport Container from '@material-ui/core/Container';\n\nimport { \n    Switch,\n    Route,\n  } from \"react-router-dom\";\n\nimport CustomerDataForm from './CustomerDataForm'\nimport CustomerDataList from './CustomerDataList'\n\nimport AadharDataService from './../../services/customer-data-service'\n\nclass CustomerDataPage extends React.Component {\n    render() {\n        let path = this.props.match.path;\n        return (\n            <Switch>\n                <Route exact path={path} component={CustomerDataList} />\n                <Route path={`${path}/add`} component={CustomerDataForm} />\n                <Route path={`${path}/edit/:id`} component={CustomerDataForm} />\n            </Switch>\n        )\n    }\n}\n\nexport default CustomerDataPage","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/NotificationPage/NotificationPage.js",["266","267","268","269","270"],"import React from \"react\";\n\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport NotificationsNoneIcon from \"@material-ui/icons/NotificationsNone\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nexport default function NotificationPage({items, deleteNotification, error}) {\n\treturn (\n\t\t<Container maxWidth=\"sm\" className=\"\" disableGutters>\n\t\t\t{!items && !error && (\n\t\t\t\t<Grid container alignItems=\"center\" justify=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<CircularProgress color=\"secondary\" size={20} />\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{items && items.length > 0 && (\n\t\t\t\t<Box boxShadow={2} bgcolor=\"primary.contrastText\" marginBottom=\"2rem\">\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t\t<NotificationListItem item={item} deleteNotification={deleteNotification} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\" textAlign=\"center\">\n\t\t\t\t\t\t<ErrorIcon />\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\">\n\t\t\t\t\t\t\t{error.message == \"Network Error\" || error.message == \"Failed to fetch\"\n\t\t\t\t\t\t\t\t? \"There was a network error in fetching your data. Please check your network and try again\"\n\t\t\t\t\t\t\t\t: \"\"}\n\n\t\t\t\t\t\t\t{/* There was an error in fetching your data. Please try later. */}\n\t\t\t\t\t\t\t{JSON.stringify(error)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{items && !items.length && !error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\">\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\">\n\t\t\t\t\t\t\tYou have no notifications. When you receive notifications, they will show up in this list.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Container>\n\t);\n}\n\nfunction NotificationListItem({item, deleteNotification}) {\n\tconst [isDeleting, setIsDeleting] = React.useState(false);\n\n\treturn (\n\t\t<ListItem divider style={{paddingTop: 16, paddingBottom: 16}} key={item.id}>\n\t\t\t<ListItemAvatar>\n\t\t\t\t<Avatar>\n\t\t\t\t\t<NotificationsNoneIcon style={{color: \"white\"}} />\n\t\t\t\t</Avatar>\n\t\t\t</ListItemAvatar>\n\t\t\t<Box>\n\t\t\t\t{/* <Typography variant=\"overline\" style={{lineHeight: 1}}>Camp Location</Typography> */}\n\t\t\t\t<Typography variant=\"body1\" color=\"default\">\n\t\t\t\t\t{item.changeTitle}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"subtitle2\" color=\"textSecondary\" style={{marginBottom: \"0.5rem\"}}>\n\t\t\t\t\t{item.changeMessage}\n\t\t\t\t</Typography>\n\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t<AccessTimeIcon\n\t\t\t\t\t\tfontSize=\"inherit\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginRight: \"0.25rem\",\n\t\t\t\t\t\t\theight: \"0.9rem\",\n\t\t\t\t\t\t\twidth: \"0.9rem\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant=\"subtitle2\" align=\"center\" color=\"textSecondary\">\n\t\t\t\t\t\t{new Date(item.createdAt).toLocaleDateString()}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t\n\t\t\t</Box>\n\n\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\n\t\t\t\t<IconButton\n\t\t\t\t\tedge=\"end\"\n\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tsetIsDeleting(true);\n\t\t\t\t\t\tdeleteNotification(item.id);\n\t\t\t\t\t}}>\n\t\t\t\t\t<DeleteIcon />\n\t\t\t\t</IconButton>\n\t\t\t</ListItemSecondaryAction>\n\t\t</ListItem>\n\t);\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/HomeActionsList.js",["271","272","273","274"],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/UserCard.js",["275","276","277","278","279","280","281","282","283","284","285"],"import React, { useState } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Avatar from '@material-ui/core/Avatar';\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport PeakPwa from './../../services/peakpwa'\n\nconst useStyles = makeStyles({\n  root: {\n    // maxWidth: 345,\n    // marginTop: '1rem',\n    padding: '1rem'\n  },\n  media: {\n    // height: 140,\n  },\n});\n\nexport default function UserCard(props) {\n  const classes = useStyles();\n  const [isLoading, setLoading] = useState(false);\n\n  const handleClick = (e) => {\n    setLoading(true);\n    // PeakPwa.requestNotificationPermissionAndSubscribe();\n  }\n\n  return (\n     <Paper className={classes.root}>\n        <Grid container spacing={1}>\n            <Grid item xs={12} container spacing={2} alignItems=\"center\">\n                <Grid item xs={2} >\n                    <Avatar color=\"primary\">\n                        <AccountCircleIcon />\n                    </Avatar>\n                </Grid>\n                <Grid item xs={10}>\n                    {/* <Typography variant=\"caption\" style={{lineHeight: 1}}>Employee Name</Typography> */}\n                    <Typography variant=\"h6\" color=\"primary\">{props.state.name}</Typography>\n                </Grid>\n            </Grid>\n            <Grid item xs={12} container spacing={1}>\n                <Grid item xs={2}></Grid>\n                <Grid item xs={5}>\n                    <Typography variant=\"caption\" component=\"div\" style={{lineHeight: 1.5}}>Employee Code</Typography>\n                    <Typography variant=\"body1\" component=\"div\" color=\"primary\">{props.state.filter3}</Typography>\n                </Grid>\n                <Grid item xs={5}>\n                    <Typography variant=\"caption\" component=\"div\"  style={{lineHeight: 1.5}}>Branch</Typography>\n                    <Typography variant=\"body1\" component=\"div\" color=\"primary\">{props.state.filter4}</Typography>\n                </Grid>\n            </Grid>\n        </Grid>\n     </Paper>\n  );\n}\n\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/NotificationPermWidget.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/helpers/helpers.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/CustomerDataPage/CustomerDataForm.js",["286","287","288","289","290"],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/CustomerDataPage/CustomerDataList.js",["291","292","293","294","295","296","297","298","299","300","301","302"],"import React, {useEffect, useState} from \"react\";\n\nimport {Box, Button, Card, CardActions, CardContent, Grid, Paper, Fab} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport ErrorIcon from '@material-ui/icons/Error';\nimport Select from \"@material-ui/core/Select\";\nimport PageHeader from \"./../../Components/PageHeader\";\n\nimport {useConfirmationDialog} from \"./../../Components/ConfirmationDialogProvider\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nimport FormContainer from \"./../../Components/FormContainer\";\n\nimport AadharDataService from \"./../../services/customer-data-service\";\nimport { useSnackbar } from \"notistack\";\n\nexport default function CustomerDataList({history, match}) {\n\tconst {path} = match;\n\tlet [items, setItems] = useState(null);\n\tconst [unSyncedItems, setUnSyncedItems] = useState(null);\n\tconst [syncedItems, setSyncedItems] = useState(null);\n\tconst [isUploading, setIsUploading] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconst {getConfirmation} = useConfirmationDialog();\n\tconst {enqueueSnackbar, closeSnackbar} = useSnackbar()\n\n\tlet dateOptions = [];\n\tlet current_date = new Date();\n\tcurrent_date.setHours(0, 0, 0, 0);\n\tconst [selectedDate, setSelectedDate] = useState(current_date.toISOString());\n\tdateOptions.push(\n\t\t<MenuItem key={0} aria-label={current_date.toISOString()} value={current_date.toISOString()}>\n\t\t\t{current_date.toLocaleDateString()}\n\t\t</MenuItem>\n\t);\n\tfor (let index = 0; index < 5; index++) {\n\t\tcurrent_date.setDate(current_date.getDate() - 1);\n\t\tdateOptions.push(\n\t\t\t<MenuItem key={index + 1} aria-label={current_date.toISOString()} value={current_date.toISOString()}>\n\t\t\t\t{current_date.toLocaleDateString()}\n\t\t\t</MenuItem>\n\t\t);\n\t}\n\n\tuseEffect(() => {\n\t\tloadList();\n\t}, [selectedDate]);\n\n\tconst loadList = async () => {\n\t\tsetError(null);\n\t\tsetItems(null);\n\t\tlet total_items = [];\n\t\tlet unsynced_items = await AadharDataService.getUnsyncedRecords(new Date(selectedDate));\n\t\tconsole.log(unsynced_items);\n\t\ttotal_items.push(...unsynced_items);\n\t\tsetUnSyncedItems(unsynced_items);\n\t\t// setItems(total_items);\n\n\t\t// if(!navigator.onLine) {\n\t\t//     setItems(total_items);\n\t\t//     return;\n\t\t// }\n\t\ttry {\n\t\t\tlet data = await AadharDataService.getRecords(new Date(selectedDate));\n\t\t\ttotal_items.push(...data.data.results);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tsetError(err);\n\t\t}\n\t\tsetItems(total_items);\n\t};\n\n\tconst editItem = (id) => {\n\t\thistory.push(path + \"/edit/\" + id);\n\t};\n\n\tconst deleteItem = async (id) => {\n\t\tconst confirmed = await getConfirmation({\n\t\t\ttitle: \"Delete Customer Data\",\n\t\t\tmessage: \"Are you sure you want to delete this Customer Data?\",\n\t\t\tbtnConfirmText: \"Delete\",\n\t\t});\n\n\t\tif (!confirmed) return;\n\n\t\tsetItems(\n\t\t\titems.map((x) => {\n\t\t\t\tif (x.id === id) {\n\t\t\t\t\tx.isDeleting = true;\n\t\t\t\t}\n\t\t\t\treturn x;\n\t\t\t})\n\t\t);\n\t\t// this.props.history.push(path + '/' + id)\n\t\tawait AadharDataService.deleteRecordFromCache(id);\n\t\tsetItems((items) => items.filter((x) => x.id !== id));\n\t};\n\n\tconst uploadRecords = async () => {\n\t\tif (!window.navigator.onLine) {\n\t\t\tenqueueSnackbar(\"You currently have no network connection.\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetIsUploading(true);\n\t\tawait AadharDataService.uploadRecords();\n\t\tloadList().then(function () {\n\t\t\tsetIsUploading(false);\n\t\t});\n\t};\n\n\t// items = syncedItems.push(unSyncedItems);\n\t// console.log(items)\n\treturn (\n\t\t<Container style={{minHeight: \"calc(100vh - 112px)\"}} disableGutters bgcolor=\"primary.contrastText\">\n\t\t\t<PageHeader icon={<GroupAddIcon />} title={\"Customer Data\"} />\n\n\t\t\t<Box bgcolor=\"primary.contrastText\" style={{padding: \"1rem\"}} boxShadow={1}>\n\t\t\t\t<FormControl variant=\"outlined\" fullWidth>\n\t\t\t\t\t<InputLabel id=\"select-list-date\">Select Date</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabelId=\"select-list-date\"\n\t\t\t\t\t\tname=\"list-date\"\n\t\t\t\t\t\tonChange={(event) => setSelectedDate(event.target.value)}\n\t\t\t\t\t\tvalue={selectedDate}\n\t\t\t\t\t\tlabel=\"Select Date\">\n\t\t\t\t\t\t{dateOptions}\n\t\t\t\t\t</Select>\n\t\t\t\t</FormControl>\n\t\t\t</Box>\n\n\t\t\t{unSyncedItems && unSyncedItems.length > 0 && (\n\t\t\t\t<Box bgcolor=\"success.main\" color=\"primary.contrastText\" padding={2}>\n\t\t\t\t\t<Typography color=\"inherit\" variant=\"body2\" style={{marginBottom: \"1rem\"}}>\n\t\t\t\t\t\tYou have not uploaded <b>{unSyncedItems.length} records</b> for{\" \"}\n\t\t\t\t\t\t<b>{new Date(selectedDate).toLocaleDateString()}</b>. Tap the button below to upload the records.\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Button variant=\"contained\" size=\"small\" color=\"default\" onClick={uploadRecords} disabled={isUploading}>\n\t\t\t\t\t\t{isUploading ? (\n\t\t\t\t\t\t\t<Grid container alignItems=\"center\" justify=\"center\">\n\t\t\t\t\t\t\t\t<CircularProgress color=\"secondary\" size={12} style={{marginRight: \"0.5rem\"}} /> Uploading Records\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"Upload Records\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{items && items.length > 0 && (\n\t\t\t\t<Box boxShadow={2} bgcolor=\"primary.contrastText\" marginBottom=\"2rem\">\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{items.map((customerData) => (\n\t\t\t\t\t\t\t<ListItem divider style={{paddingTop: 16, paddingBottom: 16}} key={customerData.id}>\n\t\t\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t\t\t<Avatar>\n\t\t\t\t\t\t\t\t\t\t<AccountCircleIcon style={{color: \"white\"}} />\n\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body1\">{customerData.name}</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">{customerData.service_availed}</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t{customerData.unsynced ? (\n\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteItem(customerData.id);\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"edit\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\teditItem(customerData.id);\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t\t<Box color=\"success.main\">\n\t\t\t\t\t\t\t\t\t\t\t<DoneIcon />\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\">\n\t\t\t\t\t\t<ErrorIcon/>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\">\n\t\t\t\t\t\t\t{error.message == \"Network Error\"\n\t\t\t\t\t\t\t\t? \"There was a network error in fetching your data. Please check your network and try again\"\n\t\t\t\t\t\t\t\t: \"\"}\n\n\t\t\t\t\t\t\t{/* There was an error in fetching your data. Please try later. */}\n\t\t\t\t\t\t\t{/* {JSON.stringify(error)} */}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{!items && (\n\t\t\t\t<Grid container alignItems=\"center\" justify=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<CircularProgress color=\"secondary\" size={20} />\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t\n\t\t\t{items && !items.length && !error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\">\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\">\n\t\t\t\t\t\t\tYou have not added any Customer Data for <b>{new Date(selectedDate).toLocaleDateString()}</b> yet.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t<Fab\n\t\t\t\tvariant=\"extended\"\n\t\t\t\tsize=\"medium\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\taria-label=\"upload records\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\thistory.push(path + \"/add\");\n\t\t\t\t}}\n\t\t\t\tstyle={{position: \"fixed\", bottom: \"72px\", right: \"16px\"}}>\n\t\t\t\t<AddIcon />\n\t\t\t\tAdd Record\n\t\t\t</Fab>\n\t\t</Container>\n\t);\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/MarketingActivity/MarketingActivityPage.js",["303"],"import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport { \n    Switch,\n    Route,\n  } from \"react-router-dom\";\nimport MarketingActivityForm from './MarketingActivityForm'\nimport MarketingActivityList from './MarketingActivityList'\n\n\nclass MarketingActivityPage extends React.Component {\n    render() {\n        let path = this.props.match.path;\n        return (\n            <Switch>\n                <Route exact path={path} component={MarketingActivityList} />\n                <Route path={`${path}/add`} component={MarketingActivityForm} />\n                <Route path={`${path}/edit/:id`} component={MarketingActivityForm} />\n            </Switch>\n        )\n    }\n}\n\nexport default MarketingActivityPage","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/MarketingActivity/MarketingActivityForm.js",["304","305","306","307","308"],"import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\n\nimport {withRouter} from \"react-router-dom\";\nimport {fetchData} from \"../../helpers/helpers\";\nimport {withSnackbar} from \"notistack\";\n\nimport FromContainer from \"./../../Components/FormContainer\";\n\nimport Constants from \"./../../constants\";\nimport LoadingButton from \"./../../Components/LoadingButton\";\n\nimport {api} from \"./../../services/customer-data-service\";\n\nclass MarketingActivityForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\n\t\tthis.state = {\n\t\t\tcamps_count: \"\",\n\t\t\tcamp_location: \"\",\n\t\t\tposters_count: \"\",\n\t\t\tleaflets_count: \"\",\n\t\t\tother_activity: \"\",\n\n\t\t\tformError: null,\n\t\t\tisLoading: props.match.params.id ? true : false,\n\t\t};\n\n\t\tif (props.match.params.id) {\n\t\t\t// this.state = AadharDataService.get\n\t\t\tthis.state.isUpdate = true;\n\t\t}\n\t}\n\n\tasync handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tif (!window.navigator.onLine) {\n\t\t\tthis.setState({\n\t\t\t\tgeneral_error: \"You are currently offline. Please connect to the internet to perform this action.\",\n\t\t\t\tisLoading: false,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tgeneral_error: \"\",\n\t\t\tisLoading: true,\n\t\t});\n\n\t\ttry {\n\t\t\tif (this.state.isUpdate) {\n\t\t\t\tawait api.put(`/aadhaar/marketingactivity/${this.props.match.params.id}/`, this.state);\n\t\t\t} else {\n\t\t\t\tawait api.post(`/aadhaar/marketingactivity/`, this.state);\n\t\t\t}\n\n\t\t\tthis.props.enqueueSnackbar(`Marketing Activity ${this.state.isUpdate ? \"Updated\" : \"Created\"}`, {\n\t\t\t\tvariant: \"success\",\n\t\t\t});\n\n\t\t\tthis.props.history.goBack();\n\t\t} catch (err) {\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false,\n\t\t\t});\n\t\t\tif (err.response && err.response.data) {\n\t\t\t\tthis.setState({formError: err.response.data});\n\t\t\t}\n\t\t\t// for (const key in err.response) {\n\t\t\t// \tif (key == \"non_field_errors\" || key == \"detail\") {\n\t\t\t// \t\tthis.setState({\n\t\t\t// \t\t\tgeneral_error: err.response[key],\n\t\t\t// \t\t});\n\t\t\t// \t}\n\t\t\t// }\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.match.params.id) {\n\t\t\tlet self = this;\n\t\t\tapi.get(`/aadhaar/marketingactivity/${this.props.match.params.id}/`).then(function (data) {\n\t\t\t\tself.setState(data);\n\t\t\t\tself.setState({isLoading: false});\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet formError = this.state.formError;\n\t\treturn (\n\t\t\t<FromContainer>\n\t\t\t\t<form className=\"login-form\" autoComplete=\"off\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\t{this.state.isUpdate ? \"Update Marketing Activity\" : \"Add Marketing Activity\"}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{this.state.general_error ? (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Alert severity=\"error\">{this.state.general_error}</Alert>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{formError && formError.non_field_errors ? (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Alert severity=\"error\">{formError.non_field_errors.join(\"\\n\")}</Alert>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"camps_count\"\n\t\t\t\t\t\t\t\tlabel=\"Number of Camps\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.camps_count}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.camps_count)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.camps_count?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" fullWidth>\n\t\t\t\t\t\t\t\t<InputLabel id=\"select-camp_location\">Camp done at</InputLabel>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabelId=\"select-camp_location\"\n\t\t\t\t\t\t\t\t\tname=\"camp_location\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.camp_location}\n\t\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.camp_location)}\n\t\t\t\t\t\t\t\t\thelperText={this.state.formError?.camp_location?.join(\"\\n\")}\n\t\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\t\tlabel=\"Camp done at\"\n\t\t\t\t\t\t\t\t\trequired>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"corporate\"}>Corporate</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"school\"}>School</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"govtoffice\"}>Govt. Office</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"society\"}>Society</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"others\"}>Others</MenuItem>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"leaflets_count\"\n\t\t\t\t\t\t\t\tlabel=\"Number of Leaflets\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.leaflets_count}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.leaflets_count)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.leaflets_count?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"posters_count\"\n\t\t\t\t\t\t\t\tlabel=\"Number of Posters\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.posters_count}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.posters_count)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.posters_count?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\tname=\"other_activity\"\n\t\t\t\t\t\t\t\tlabel=\"Other Activity Done\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.other_activity}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.other_activity)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.other_activity?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\t// required\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\tbtnText={this.state.isUpdate ? \"Update Marketing Activity\" : \"Add Marketing Activity\"}\n\t\t\t\t\t\t\t\tloadingText={this.state.isUpdate ? \"Update Marketing Activity\" : \"Add Marketing Activity\"}\n\t\t\t\t\t\t\t\tisLoading={this.state.isLoading}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</FromContainer>\n\t\t);\n\t}\n}\n\n// export default CustomerDataForm;\nexport default withSnackbar(withRouter(MarketingActivityForm));\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/MarketingActivity/MarketingActivityList.js",["309","310","311","312","313"],"import React, {useEffect, useState} from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport ErrorIcon from '@material-ui/icons/Error';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\n// import ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\n// import ListItemIcon from \"@material-ui/core/ListItemIcon\";\n// import ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\n// import Avatar from \"@material-ui/core/Avatar\";\n\nimport PageHeader from \"./../../Components/PageHeader\";\nimport {useConfirmationDialog} from \"./../../Components/ConfirmationDialogProvider\";\nimport {useSnackbar} from \"notistack\";\n\nimport {api} from \"./../../services/customer-data-service\";\n\nexport default function MarketingActivityList({history, match}) {\n\tconst {path} = match;\n\tconst [items, setItems] = useState(null);\n\tconst [isUploading, setIsUploading] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconst {getConfirmation} = useConfirmationDialog();\n\tconst {enqueueSnackbar, closeSnackbar} = useSnackbar();\n\n\tuseEffect(async () => {\n\t\tsetError(null);\n\t\tapi\n\t\t\t.get(\"/aadhaar/marketingactivity/\")\n\t\t\t.then(function (data) {\n\t\t\t\tsetItems(data.data.results);\n\t\t\t})\n\t\t\t.catch(function (err) {\n\t\t\t\tsetError(err);\n\t\t\t});\n\t}, []);\n\n\tconst editItem = (id) => {\n\t\tif (!window.navigator.onLine) {\n\t\t\tenqueueSnackbar(\"You currently have no network connection.\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\thistory.push(path + \"/edit/\" + id);\n\t};\n\n\tconst deleteItem = async (id) => {\n\t\tif (!window.navigator.onLine) {\n\t\t\tenqueueSnackbar(\"You currently have no network connection.\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tconst confirmed = await getConfirmation({\n\t\t\ttitle: \"Delete Marketing Activity\",\n\t\t\tmessage: \"Are you sure you want to delete this Marketing Activity?\",\n\t\t\tbtnConfirmText: \"Delete\",\n\t\t});\n\n\t\tif (!confirmed) return;\n\t\tsetItems(\n\t\t\titems.map((x) => {\n\t\t\t\tif (x.id === id) {\n\t\t\t\t\tx.isDeleting = true;\n\t\t\t\t}\n\t\t\t\treturn x;\n\t\t\t})\n\t\t);\n\n\t\ttry {\n\t\t\tawait api.delete(`/aadhaar/marketingactivity/${id}/`);\n\t\t\tsetItems((items) => items.filter((x) => x.id !== id));\n\t\t} catch (err) {\n\t\t\tenqueueSnackbar(\"There was an error in deleting this item.\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n\n\tconsole.log(isUploading);\n\treturn (\n\t\t<div>\n\t\t\t<PageHeader icon={<AssignmentIcon />} title={\"Marketing Activity\"} />\n\n\t\t\t{items && items.length > 0 && (\n\t\t\t\t<Box boxShadow={2} bgcolor=\"primary.contrastText\" marginBottom=\"2rem\">\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{items.map((marketingActivity) => (\n\t\t\t\t\t\t\t<ListItem divider style={{paddingTop: 16, paddingBottom: 16}} key={marketingActivity.id}>\n\t\t\t\t\t\t\t\t{/* <ListItemAvatar>\n\t\t\t\t\t<Avatar>\n\t\t\t\t\t\t<AccountCircleIcon style={{color:'white'}}/>\n\t\t\t\t\t</Avatar>\n\t\t\t\t</ListItemAvatar> */}\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"overline\" style={{lineHeight: 1}}>\n\t\t\t\t\t\t\t\t\t\tCamp Location\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"primary\" style={{marginBottom: \"8px\"}}>\n\t\t\t\t\t\t\t\t\t\t{marketingActivity.camp_location}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t<AccessTimeIcon\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"inherit\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: \"0.25rem\",\n\t\t\t\t\t\t\t\t\t\t\t\theight: \"0.9rem\",\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"0.9rem\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{new Date(marketingActivity.createdAt).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(marketingActivity.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"edit\"\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\teditItem(marketingActivity.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{!items && !error && (\n\t\t\t\t<Grid container alignItems=\"center\" justify=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<CircularProgress color=\"secondary\" size={20} />\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\">\n\t\t\t\t\t\t<ErrorIcon/>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\">\n\t\t\t\t\t\t\t{error.message == \"Network Error\"\n\t\t\t\t\t\t\t\t? \"There was a network error in fetching your data. Please check your network and try again\"\n\t\t\t\t\t\t\t\t: \"\"}\n\n\t\t\t\t\t\t\t{/* There was an error in fetching your data. Please try later. */}\n\t\t\t\t\t\t\t{/* {JSON.stringify(error)} */}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{items && !items.length && !error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\">\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\">\n\t\t\t\t\t\t\tYou have not added any Marketing Activity yet.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t<Fab\n\t\t\t\tvariant=\"extended\"\n\t\t\t\tsize=\"medium\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\taria-label=\"upload records\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\thistory.push(path + \"/add\");\n\t\t\t\t}}\n\t\t\t\tstyle={{position: \"fixed\", bottom: \"72px\", right: \"16px\"}}>\n\t\t\t\t<AddIcon />\n\t\t\t\tAdd Record\n\t\t\t</Fab>\n\t\t\t{/* <Button variant=\"contained\" color=\"primary\" onClick={() => {history.push(path + '/add')}}>Add New</Button> */}\n\t\t</div>\n\t);\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/DailyActivityPage/DailyActivityPage.js",["314","315"],"import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport { \n    Switch,\n    Route,\n  } from \"react-router-dom\";\n\nimport DailyActivityList from './DailyActivityList'\nimport DailyActivityForm from './DailyActivityForm'\n\n\nclass DailyActivityPage extends React.Component {\n    render() {\n        let path = this.props.match.path;\n        return (\n            <Switch>\n                {/* <Route exact path={path} component={DailyActivityList} /> */}\n                <Route path={`${path}/add`} component={DailyActivityForm} />\n                <Route path={`${path}/edit/:id`} component={DailyActivityForm} />\n            </Switch>\n        )\n    }\n}\n\nexport default DailyActivityPage","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/DailyActivityPage/DailyActivityForm.js",["316","317","318","319"],"import React from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\n\nimport {withRouter} from \"react-router-dom\";\nimport {withSnackbar} from \"notistack\";\n\nimport FromContainer from \"./../../Components/FormContainer\";\nimport LoadingButton from \"./../../Components/LoadingButton\";\n\nimport {api} from \"./../../services/customer-data-service\";\n\nclass DailyActivityForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\n\t\tlet dt = new Date();\n\t\tthis.state = {\n\t\t\t// date: `${dt.getFullYear()}-${dt.getMonth() + 1}-${dt.getDate()}`,\n\t\t\tdate_update: \"\",\n\t\t\tnew_enrolments: 0,\n\t\t\tbiometric_updates: 0,\n\t\t\tmandatory_biometric_updates: 0,\n\t\t\tdemographic_updates: 0,\n\t\t\ttotal_enrolments: 0,\n\t\t\ttotal_cross_sell_leads: 0,\n\n\t\t\tformError: null,\n\t\t\tisLoading: props.match.params.id ? true : false,\n\t\t};\n\n\t\tif (props.match.params.id) {\n\t\t\tthis.state.isUpdate = true;\n\t\t}\n\t}\n\n\tasync handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tif (!window.navigator.onLine) {\n\t\t\tthis.setState({\n\t\t\t\tgeneral_error: \"You are currently offline. Please connect to the internet to perform this action.\",\n\t\t\t\tisLoading: false,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tgeneral_error: \"\",\n\t\t\tformError: null,\n\t\t\tisLoading: true,\n\t\t});\n\n\t\ttry {\n\t\t\tif (this.state.isUpdate) {\n\t\t\t\tawait api.put(`/aadhaar/dailyactivity/${this.props.match.params.id}/`, this.state);\n\t\t\t} else {\n\t\t\t\tawait api.post(`/aadhaar/dailyactivity/`, this.state);\n\t\t\t}\n\n\t\t\tthis.props.enqueueSnackbar(`Daily Activity ${this.state.isUpdate ? \"Updated\" : \"Created\"}`, {\n\t\t\t\tvariant: \"success\",\n\t\t\t});\n\n\t\t\tthis.props.history.goBack();\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tthis.setState({\n\t\t\t\t// formError: err,\n\t\t\t\tisLoading: false,\n\t\t\t});\n\n\t\t\tif (err.response && err.response.data) {\n\t\t\t\tthis.setState({formError: err.response.data});\n\t\t\t}\n\t\t\t// for (const key in err.response) {\n\t\t\t// \tif (key == \"non_field_errors\" || key == \"detail\") {\n\t\t\t// \t\tthis.setState({\n\t\t\t// \t\t\tgeneral_error: err.response[key],\n\t\t\t// \t\t});\n\t\t\t// \t}\n\t\t\t// }\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.match.params.id) {\n\t\t\tconsole.log(\"DailyActivityForm\");\n\t\t\tconsole.log(this.props.match.params.id);\n\t\t\tlet self = this;\n\t\t\tapi.get(`/aadhaar/dailyactivity/${this.props.match.params.id}/`).then(function (data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tself.setState(data.data);\n\t\t\t\tself.setState({isLoading: false});\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet formError = this.state.formError;\n\t\treturn (\n\t\t\t<FromContainer>\n\t\t\t\t<form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" color=\"secondary\">\n\t\t\t\t\t\t\t\t{this.state.isUpdate ? \"Update Daily Activity\" : \"Add Daily Activity\"}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{this.state.isUpdate ? (\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">For {new Date(this.state.createdAt).toLocaleDateString()}</Typography>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{formError && formError.non_field_errors ? (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Alert severity=\"error\">{formError.non_field_errors.join(\"\\n\")}</Alert>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* <Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tname=\"date\"\n\t\t\t\t\t\t\t\tlabel=\"Date of Reporting\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.date}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid> */}\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" fullWidth>\n\t\t\t\t\t\t\t\t<InputLabel id=\"select-date-update\">Date Update</InputLabel>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabelId=\"select-date-update\"\n\t\t\t\t\t\t\t\t\tname=\"date_update\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.date_update}\n\t\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\t\tlabel=\"Date Update\">\n\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">None</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"State Holiday\"}>State Holiday</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"On Leave\"}>On Leave</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Training\"}>Training</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Technical issue\"}>Technical issue at branch</MenuItem>\n\t\t\t\t\t\t\t\t\t{/* <MenuItem value={'others'}>Others</MenuItem> */}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"new_enrolments\"\n\t\t\t\t\t\t\t\tlabel=\"New Enrolments\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.new_enrolments}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.new_enrolments)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.new_enrolments?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"mandatory_biometric_updates\"\n\t\t\t\t\t\t\t\tlabel=\"No. of Mandatory Biometric Updates\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.mandatory_biometric_updates)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.mandatory_biometric_updates?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tvalue={this.state.mandatory_biometric_updates}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"biometric_updates\"\n\t\t\t\t\t\t\t\tlabel=\"Biometric Updates with or without demographic updates\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.biometric_updates)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.biometric_updates?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tvalue={this.state.biometric_updates}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"demographic_updates\"\n\t\t\t\t\t\t\t\tlabel=\"Demographic Updates\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.demographic_updates}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.demographic_updates)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.demographic_updates?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"total_enrolments\"\n\t\t\t\t\t\t\t\tlabel=\"Total Enrolments & Updates\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.total_enrolments}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.total_enrolments)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.total_enrolments?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"total_cross_sell_leads\"\n\t\t\t\t\t\t\t\tlabel=\"Total cross sell leads\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.total_cross_sell_leads}\n\t\t\t\t\t\t\t\terror={Boolean(this.state.formError?.total_cross_sell_leads)}\n\t\t\t\t\t\t\t\thelperText={this.state.formError?.total_cross_sell_leads?.join(\"\\n\")}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\tbtnText={this.state.isUpdate ? \"Update Daily Activity\" : \"Add Daily Activity\"}\n\t\t\t\t\t\t\t\tloadingText={this.state.isUpdate ? \"Updating Record\" : \"Adding Record\"}\n\t\t\t\t\t\t\t\tisLoading={this.state.isLoading}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</FromContainer>\n\t\t);\n\t}\n}\n\n// export default CustomerDataForm;\nexport default withSnackbar(withRouter(DailyActivityForm));\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/DailyActivityPage/DailyActivityList.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/IssuePage/IssuePage.js",["320"],"import React from 'react';\n\nimport Container from '@material-ui/core/Container';\n\nimport { \n    Switch,\n    Route,\n  } from \"react-router-dom\";\n\nimport IssueForm from './IssueForm'\nimport IssueList from './IssueList'\n\nclass CustomerDataPage extends React.Component {\n    render() {\n        let path = this.props.match.path;\n        return (\n            <Switch>\n                <Route exact path={path} component={IssueList} />\n                <Route path={`${path}/add`} component={IssueForm} />\n                <Route path={`${path}/edit/:id`} component={IssueForm} />\n            </Switch>\n        )\n    }\n}\n\nexport default CustomerDataPage","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/IssuePage/IssueList.js",["321","322","323","324","325","326","327"],"import React, {useEffect, useState} from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PageHeader from \"./../../Components/PageHeader\";\nimport {useConfirmationDialog} from \"./../../Components/ConfirmationDialogProvider\";\nimport {useSnackbar} from \"notistack\";\n\nimport {api} from \"./../../services/customer-data-service\";\n\nexport default function IssueList({history, match}) {\n\tconst {path} = match;\n\tconst [items, setItems] = useState(null);\n\tconst [isUploading, setIsUploading] = useState(false);\n\tconst [error, setError] = useState(false);\n\tconst {enqueueSnackbar, closeSnackbar} = useSnackbar();\n\tconst {getConfirmation} = useConfirmationDialog();\n\t// const classes = useStyles()\n\n\tuseEffect(() => {\n\t\tsetError(null);\n\t\tapi\n\t\t\t.get(`/aadhaar/technicalissue/`)\n\t\t\t.then(function (data) {\n\t\t\t\tsetItems(data.data.results);\n\t\t\t})\n\t\t\t.catch(function (err) {\n\t\t\t\tsetError(err);\n\t\t\t\tsetItems([])\n\t\t\t});\n\t}, []);\n\n\tconst editItem = (id) => {\n\t\tif (!window.navigator.onLine) {\n\t\t\tenqueueSnackbar(\"You currently have no network connection.\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\thistory.push(path + \"/edit/\" + id);\n\t};\n\n\tconst deleteItem = async (id) => {\n\t\tif (!window.navigator.onLine) {\n\t\t\tenqueueSnackbar(\"You currently have no network connection.\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst confirmed = await getConfirmation({\n\t\t\ttitle: \"Delete Issue\",\n\t\t\tmessage: \"Are you sure you want to delete this Issue?\",\n\t\t\tbtnConfirmText: \"Delete\",\n\t\t});\n\n\t\tif (!confirmed) return;\n\n\t\tsetItems(\n\t\t\titems.map((x) => {\n\t\t\t\tif (x.id === id) {\n\t\t\t\t\tx.isDeleting = true;\n\t\t\t\t}\n\t\t\t\treturn x;\n\t\t\t})\n\t\t);\n\n\t\ttry {\n\t\t\tawait api.delete(`/aadhaar/technicalissue/${id}/`);\n\t\t\tsetItems((items) => items.filter((x) => x.id !== id));\n\t\t} catch (err) {}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<PageHeader icon={<ErrorIcon />} title={\"Technical Issues\"} />\n\n\t\t\t{/* {items && items.length > 0 && items.map(item => \n                <Card key={item.id}>\n                    <Grid container style={{padding: '1rem'}} spacing={2}>\n                        <Grid item xs={7}>\n                            <Typography variant=\"overline\" style={{lineHeight: 1}}>Issue</Typography>\n                            <Typography variant=\"body1\" color=\"primary\">{item.issue}</Typography>\n                        </Grid>\n                        <Grid item xs={5}>\n                            <Typography variant=\"overline\" style={{lineHeight: 1}}>Reported On</Typography>\n                            <Typography variant=\"body2\" color=\"primary\">{new Date(item.createdAt).toLocaleDateString()}</Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Button startIcon={<EditIcon/>} color=\"default\" onClick={(e) => {editItem(item.id)}}>Edit</Button>\n                            <Button startIcon={<DeleteIcon/>} color=\"default\" onClick={(e) => {deleteItem(item.id)}}>Delete</Button>\n                        </Grid> \n                    </Grid>\n                </Card>\n            )} */}\n\t\t\t{items && items.length > 0 && (\n\t\t\t\t<Box boxShadow={2} bgcolor=\"primary.contrastText\">\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t\t<ListItem divider style={{paddingTop: 16, paddingBottom: 16}} key={item.id}>\n\t\t\t\t\t\t\t\t{/* <ListItemAvatar>\n                                <Avatar>\n                                    <AccountCircleIcon style={{color:'white'}}/>\n                                </Avatar>\n                            </ListItemAvatar> */}\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"overline\" style={{lineHeight: 1}}>\n\t\t\t\t\t\t\t\t\t\tIssue\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"primary\" style={{marginBottom: \"8px\"}}>\n\t\t\t\t\t\t\t\t\t\t{item.issue}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t\t\t\t\t\t<AccessTimeIcon\n\t\t\t\t\t\t\t\t\t\t\tfontSize=\"inherit\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: \"0.25rem\",\n\t\t\t\t\t\t\t\t\t\t\t\theight: \"0.9rem\",\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"0.9rem\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{new Date(item.createdAt).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(item.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"edit\"\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\teditItem(item.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{!items && (\n\t\t\t\t<Grid container alignItems=\"center\" justify=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<CircularProgress color=\"secondary\" size={20} />\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\" textAlign=\"center\">\n\t\t\t\t\t\t<ErrorIcon/>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\">\n\t\t\t\t\t\t\t{error.message == \"Network Error\"\n\t\t\t\t\t\t\t\t? \"There was a network error in fetching your data. Please check your network and try again\"\n\t\t\t\t\t\t\t\t: \"\"}\n\n\t\t\t\t\t\t\t{/* There was an error in fetching your data. Please try later. */}\n\t\t\t\t\t\t\t{/* {JSON.stringify(error)} */}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\n\t\t\t{items && !items.length && !error && (\n\t\t\t\t<Grid container justify=\"center\" alignItems=\"center\" style={{padding: \"2rem\"}}>\n\t\t\t\t\t<Box color=\"primary.contrastText\">\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" align=\"center\" color=\"inherit\">\n\t\t\t\t\t\t\tYou have not reported any Technical Issues yet.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t<Fab\n\t\t\t\tvariant=\"extended\"\n\t\t\t\tsize=\"medium\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\taria-label=\"upload records\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\thistory.push(path + \"/add\");\n\t\t\t\t}}\n\t\t\t\tstyle={{position: \"fixed\", bottom: \"72px\", right: \"16px\"}}>\n\t\t\t\t<AddIcon />\n\t\t\t\tCreate New Issue\n\t\t\t</Fab>\n\t\t\t{/* <Button variant=\"contained\" color=\"primary\" onClick={() => {history.push(path + '/add')}}>Add New</Button> */}\n\t\t</div>\n\t);\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/IssuePage/IssueForm.js",["328","329","330","331","332"],"import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport LoadingButton from \"./../../Components/LoadingButton\";\nimport {withRouter} from \"react-router-dom\";\nimport {withSnackbar} from \"notistack\";\nimport FromContainer from \"./../../Components/FormContainer\";\n\nimport AuthService from \"./../../services/auth-service\";\nimport {api} from \"./../../services/customer-data-service\";\n\nclass DailyActivityForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\n\t\tthis.state = {\n\t\t\tissue: \"\",\n\t\t\tbranch_code: \"\",\n\t\t\tbranch_name: \"\",\n\t\t\toperator_name: \"\",\n\t\t\toperator_phone: \"\",\n\t\t\tsupervisor_name: \"\",\n\t\t\tsupervisor_phone: \"\",\n\t\t\tremarks: \"\",\n\n\t\t\tisLoading: props.match.params.id ? true : false,\n\t\t};\n\n\t\tif (props.match.params.id) {\n\t\t\tthis.state.isUpdate = true;\n\t\t}\n\t}\n\n\tasync handleSubmit(e) {\t\t\n\t\te.preventDefault();\n\n\t\t// if (!window.navigator.onLine) {\n\t\t// \tthis.setState({\n\t\t// \t\tgeneral_error: \"You are currently offline. Please connect to the internet to perform this action.\",\n\t\t// \t\tisLoading: false,\n\t\t// \t});\n\t\t// \treturn;\n\t\t// }\n\n\t\tif (!window.navigator.onLine) {\n\t\t\tthis.setState({\n\t\t\t\tgeneral_error: \"You are currently offline. Please connect to the internet to perform this action.\",\n\t\t\t\tisLoading: false,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tgeneral_error: \"\",\n\t\t\tisLoading: true,\n\t\t});\n\n\t\ttry {\n\t\t\tif (this.state.isUpdate) {\n\t\t\t\tawait api.put(`/aadhaar/technicalissue/${this.props.match.params.id}/`, this.state);\n\t\t\t} else {\n\t\t\t\tawait api.post(`/aadhaar/technicalissue/`, this.state);\n\t\t\t}\n\n\t\t\tthis.props.enqueueSnackbar(`Technical Issue ${this.state.isUpdate ? \"Updated\" : \"Reported\"}`, {\n\t\t\t\tvariant: \"success\",\n\t\t\t});\n\n\t\t\tthis.props.history.goBack();\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false,\n\t\t\t});\n\t\t\tfor (const key in err.response) {\n\t\t\t\tif (key == \"non_field_errors\" || key == \"detail\") {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tgeneral_error: err.response[key],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet self = this;\n\t\tif (this.props.match.params.id) {\n\t\t\ttry {\n\t\t\t\tapi.get(`/aadhaar/technicalissue/${this.props.match.params.id}/`).then(function (data) {\n\t\t\t\t\tself.setState(data);\n\t\t\t\t\tself.setState({isLoading: false});\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tthis.props.enqueueSnackbar(\"There was an error in loading this item\", {\n\t\t\t\t\tvariant: \"error\",\n\t\t\t\t});\n\t\t\t\tthis.props.history.goBack();\n\t\t\t}\n\t\t} else {\n\t\t\tlet state_data = AuthService.getUserState();\n\t\t\tself.setState({\n\t\t\t\toperator_name: state_data.name,\n\t\t\t\toperator_phone: state_data.phone,\n\t\t\t\tbranch_code: state_data.filter3,\n\t\t\t\tbranch_name: state_data.filter4,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<FromContainer>\n\t\t\t\t<form autoComplete=\"off\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">{this.state.isUpdate ? \"Update Issue\" : \"Submit Issue\"}</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{this.state.general_error ? (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Alert severity=\"error\">{this.state.general_error}</Alert>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" fullWidth>\n\t\t\t\t\t\t\t\t<InputLabel id=\"select-issue-type\">Issue Type</InputLabel>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tlabelId=\"select-issue-type\"\n\t\t\t\t\t\t\t\t\tname=\"issue\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.issue}\n\t\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\t\tlabel=\"Issue Type\">\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"GPS Issue\"}>GPS Issue</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Iris Issue\"}>Iris Issue</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Web Camera Issue\"}>Web Camera Issue</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Dongle Issue\"}>Dongle Issue</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Morpho Issue\"}>Morpho Issue</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Printer Issue\"}>Printer Issue</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Laptop/System Issue\"}>Laptop/System Issue</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Operator Sync Issue\"}></MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value={\"Other Issue\"}>Other Issue</MenuItem>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"remarks\"\n\t\t\t\t\t\t\t\tlabel=\"Remarks\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.remarks}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"operator_name\"\n\t\t\t\t\t\t\t\tlabel=\"Operator Name\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.operator_name}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"branch_code\"\n\t\t\t\t\t\t\t\tlabel=\"Branch Code\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.branch_code}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"branch_name\"\n\t\t\t\t\t\t\t\tlabel=\"Branch Name\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.branch_name}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"supervisor_name\"\n\t\t\t\t\t\t\t\tlabel=\"Supervisor Name\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.supervisor_name}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tname=\"supervisor_phone\"\n\t\t\t\t\t\t\t\tlabel=\"Supervisor Phone\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tvalue={this.state.supervisor_phone}\n\t\t\t\t\t\t\t\tonChange={(event) => this.setState({[event.target.name]: event.target.value})}\n\t\t\t\t\t\t\t\tdisabled={this.state.isLoading}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\tbtnText={this.state.isUpdate ? \"Update Issue\" : \"Submit Issue\"}\n\t\t\t\t\t\t\t\tloadingText={this.state.isUpdate ? \"Updating Issue\" : \"Submitting Issue\"}\n\t\t\t\t\t\t\t\tisLoading={this.state.isLoading}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</FromContainer>\n\t\t);\n\t}\n}\n\n// export default CustomerDataForm;\nexport default withSnackbar(withRouter(DailyActivityForm));\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/PageHeader.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/services/customer-data-service.js",["333","334","335","336","337","338","339","340","341","342"],"import localforage from \"localforage\";\nimport {fetchData} from \"../helpers/helpers\";\n\nimport Constants from \"./../constants\";\n\nimport axios from \"axios\";\nimport {setup} from \"axios-cache-adapter\";\nimport AuthService from \"./auth-service\";\n// console.log(Constants);\nconsole.log(\"custromer-data-service\");\nconsole.log(AuthService);\n// let user_data = AuthService.getUserData();\n// console.log(user_data);\n\nconst api = setup({\n\tbaseURL: Constants.aadhaar_domain,\n\theaders: {\n\t\tAccept: \"application/json\",\n\t\t\"Content-Type\": \"application/json\",\n\t\t// \"Authorization\": `Token ${user_data.token}`\n\t},\n\tcache: {\n\t\tmaxAge: 24 * 60 * 60 * 1000,\n\t\texclude: {\n\t\t\t//   query: false,\n\t\t},\n\t\tstore: localforage.createInstance({\n\t\t\tdriver: [localforage.INDEXEDDB, localforage.LOCALSTORAGE],\n\t\t\tname: \"aadhar-service-cache\",\n\t\t}),\n\t\treadOnError: (error, request) => {\n\t\t\treturn error.message == \"Network Error\";\n\t\t},\n\t\tinvalidate: async (cfg, req) => {\n\t\t\tconst method = req.method.toLowerCase();\n\t\t\tif (method !== \"get\") {\n\t\t\t\tconsole.log(cfg.uuid);\n\t\t\t\tlet url = cfg.uuid;\n\t\t\t\tif (method == \"put\") {\n\t\t\t\t\turl = url.split(\"/\");\n\t\t\t\t\turl = url.splice(0, url.length - 2).join(\"/\");\n\t\t\t\t}\n\t\t\t\tlet keys = await cfg.store.keys();\n\t\t\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\t\t\tconst key = keys[index];\n\t\t\t\t\tif (key.indexOf(url) >= 0) {\n\t\t\t\t\t\tawait cfg.store.removeItem(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n});\n\napi.interceptors.request.use(\n\t(config) => {\n\t\t// Do something before request is sent\n\t\tlet user_data = AuthService.getUserData();\n\t\tconfig.headers[\"Authorization\"] = `Token ${user_data.token}`;\n\t\treturn config;\n\t},\n\t(error) => {\n\t\tPromise.reject(error);\n\t}\n);\n\nclass AadharDataService {\n\tconstructor() {\n\t\tthis.CACHE = {\n\t\t\tcustomerDataUnsynced: \"CustomerDataUnsyncedCache\",\n\t\t\tcustomerData: \"CustomerDataCache\",\n\t\t\tdaylyData: \"DailyCache\",\n\t\t};\n\t\tthis.CACHE_KEY = \"AadharDataService\";\n\t\tthis.DAILY_CACHE = \"DailyCache\";\n\t}\n\n\tasync addRecordToCache(customer_data) {\n\t\tlet data = await localforage.getItem(this.CACHE.customerDataUnsynced);\n\t\tif (!data) data = [];\n\n\t\tlet current_time = new Date().toISOString();\n\t\tcustomer_data.reportedAt = current_time;\n\t\tcustomer_data.id = new Date().getTime();\n\t\tcustomer_data.unsynced = true;\n\t\tdata.push(customer_data);\n\n\t\tawait localforage.setItem(this.CACHE.customerDataUnsynced, data);\n\t}\n\n\tasync updateRecordInCache(id, customer_data) {\n\t\tlet data = await localforage.getItem(this.CACHE.customerDataUnsynced);\n\t\tif (!data) data = [];\n\t\tfor (let index = 0; index < data.length; index++) {\n\t\t\tif (data[index].id == id) {\n\t\t\t\tdata[index] = customer_data;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tawait localforage.setItem(this.CACHE.customerDataUnsynced, data);\n\t}\n\n\tasync deleteRecordFromCache(id) {\n\t\tlet data = await localforage.getItem(this.CACHE.customerDataUnsynced);\n\t\tif (!data) data = [];\n\t\tfor (let index = 0; index < data.length; index++) {\n\t\t\tif (data[index].id == id) {\n\t\t\t\tdata.splice(index, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tawait localforage.setItem(this.CACHE.customerDataUnsynced, data);\n\t}\n\n\tasync getUnsyncedRecords(date) {\n\t\tlet data = await localforage.getItem(this.CACHE.customerDataUnsynced);\n\n\t\tif (data && data.length) {\n\t\t\tdata = data.filter((x) => x.unsynced);\n\t\t\tif (date) {\n\t\t\t\tlet current_date = new Date(date).toLocaleDateString();\n\t\t\t\tdata = data.filter((x) => {\n\t\t\t\t\treturn new Date(x.reportedAt).toLocaleDateString() == current_date;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn data ? data : [];\n\t}\n\n\tasync getUnsyncedRecord(id) {\n\t\tlet records = await this.getUnsyncedRecords();\n\t\tfor (let index = 0; index < records.length; index++) {\n\t\t\tif (records[index].id == id) return records[index];\n\t\t}\n\t}\n\n\tasync getRecords(date) {\n\t\tlet d = date ? new Date(date) : new Date();\n\t\tlet filter_gte = d.toISOString();\n\t\td.setDate(d.getDate() + 1);\n\t\tlet filter_lte = d.toISOString();\n\n\t\tlet response = await api.get(`/aadhaar/customerdata/?createdAt__gte=${filter_gte}&createdAt__lte=${filter_lte}`);\n\t\tconsole.log(response);\n\t\treturn response;\n\n\t\t// return fetchData(\n\t\t//   \"GET\",\n\t\t//   `${Constants.aadhaar_domain}\n\t\t// );\n\t}\n\n\tasync uploadRecords() {\n\t\tlet data = await this.getUnsyncedRecords();\n\t\tlet response = await api.post(\"/aadhaar/customerdata/\", data);\n\t\tdata.map((item) => {\n\t\t\titem.unsynced = false;\n\t\t\treturn item;\n\t\t});\n\t\treturn localforage.setItem(this.CACHE.customerDataUnsynced, data);\n\t}\n\n\tasync getCurrentDailyRecord(date) {\n\t\tconsole.log('getCurrentDailyRecord')\n\t\tlet data = await localforage.getItem(this.DAILY_CACHE);\n\t\tif (data) {\n\t\t\tconsole.log(data)\n\t\t\t// check if data is for current day\n\t\t\tlet cache_date = new Date(data.createdAt);\n\t\t\tif (cache_date.toLocaleDateString() == new Date().toLocaleDateString()) {\n\t\t\t\tconsole.log('getCurrentDailyRecord cache')\n\t\t\t\tconsole.log(data)\n\t\t\t\treturn data;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tawait localforage.setItem(this.DAILY_CACHE, null);\n\t\t\t}\n\t\t}\n\n\t\tlet d = date ? new Date(date) : new Date();\n\t\td.setHours(0, 0, 0);\n\t\tlet filter_gte = d.getFullYear() + \"-\" + (d.getMonth() + 1) + \"-\" + d.getDate();\n\t\td.setDate(d.getDate() + 1);\n\t\tlet filter_lte = d.getFullYear() + \"-\" + (d.getMonth() + 1) + \"-\" + d.getDate();\n\t\t// data = await fetchData(\n\t\t//   \"GET\",\n\t\t//   `${Constants.aadhaar_domain}/aadhaar/dailyactivity/?date__gte=${filter_gte}&date__lte=${filter_lte}`\n\t\t// );\n\n\t\tdata = await api.get(`/aadhaar/dailyactivity/?date__gte=${filter_gte}&date__lte=${filter_lte}`);\n\t\tconsole.log(data)\n\t\tif (data && data.data.results.length > 0) {\n\t\t\tconsole.log(data.data.results[0]);\n\t\t\tawait localforage.setItem(this.DAILY_CACHE, data.data.results[0]);\n\t\t\treturn data.data.results[0];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tasync dropCache() {\n\t\tfor (const key in this.CACHE) {\n\t\t\tif (this.CACHE.hasOwnProperty(key)) {\n\t\t\t\tawait localforage.setItem(this.CACHE[key], null);\n\t\t\t}\n\t\t}\n\t\tawait api.cache.clear();\n\t}\n\n\taddTechnicalIssue() {}\n}\n\nexport {api};\n\nexport default new AadharDataService();\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/FormContainer.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/CustomerDataWidget.js",["343","344","345","346","347","348","349","350","351"],"import React, {useEffect, useState} from \"react\";\n\nimport AadharDataService from \"./../../services/customer-data-service\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\n\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\nimport FormatListBulletedIcon from \"@material-ui/icons/FormatListBulleted\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nimport {useHistory} from \"react-router-dom\";\nimport {Box, Divider} from \"@material-ui/core\";\nimport {useSnackbar} from \"notistack\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tmarginTop: \"1rem\",\n\t},\n\thighlightButton: {\n\t\t// backgroundColor: theme.palette.background.paper,\n\t\tcolor: theme.palette.info.dark,\n\t},\n}));\n\nexport default function CustomerDataWidget() {\n\tconst [path, setPath] = useState(0);\n\tconst [isUploading, setIsUploading] = useState(false);\n\tconst [records, setRecords] = useState([]);\n\n\tlet history = useHistory();\n\tconst {enqueueSnackbar, closeSnackbar} = useSnackbar();\n\n\tconst classes = useStyles();\n\t//   let records = await AadharDataService.getUnsyncedRecord();\n\n\tuseEffect(async () => {\n\t\tlet records = await AadharDataService.getUnsyncedRecords();\n\t\tsetRecords(records);\n\t}, []);\n\n\tconst uploadRecords = async function () {\n\t\tif (!window.navigator.onLine) {\n\t\t\tenqueueSnackbar(\"You currently have no network connection.\", {\n\t\t\t\tvariant: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tsetIsUploading(true);\n\t\tawait AadharDataService.uploadRecords();\n\t\tlet records = await AadharDataService.getUnsyncedRecords();\n\t\tsetRecords(records);\n\t\tsetIsUploading(false);\n\t};\n\n\treturn (\n\t\t<Card className={classes.root}>\n\t\t\t<CardContent>\n\t\t\t\t<Box display=\"flex\" alignItems=\"center\" color=\"primary.main\">\n\t\t\t\t\t<PeopleAltIcon style={{marginRight: \"1rem\"}} />\n\t\t\t\t\t<Typography variant=\"h6\">Customer Data</Typography>\n\t\t\t\t</Box>\n\n\t\t\t\t{records && records.length ? (\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" color=\"warning.main\" marginTop=\"1rem\">\n\t\t\t\t\t\t<ErrorIcon style={{marginRight: \"1rem\"}} />\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\tYou have <b>{records.length} pending records</b> to upload. Please tap the upload records button below to\n\t\t\t\t\t\t\tupload\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" color=\"success.dark\" marginTop=\"1rem\">\n\t\t\t\t\t\t<DoneIcon style={{marginRight: \"1rem\"}} />\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\tYou have no pending uploads remaining. You can add customer records by tapping add below\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t\t<Divider />\n\t\t\t<List component=\"nav\" aria-label=\"main mailbox folders\">\n\t\t\t\t{records && records.length ? (\n\t\t\t\t\t<ListItem button onClick={uploadRecords} className={classes.highlightButton}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t{isUploading ? <CircularProgress size={20} /> : <CloudUploadIcon className={classes.highlightButton} />}\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={isUploading ? \"Uploading Pending Records\" : \"Upload Pending Records\"} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\thistory.push(\"/customerdata/\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FormatListBulletedIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"View Records\" />\n\t\t\t\t</ListItem>\n\t\t\t\t<ListItem\n\t\t\t\t\tbutton\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\thistory.push(\"/customerdata/add\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<GroupAddIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary=\"Add New Customer Data\" />\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t</Card>\n\t);\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/DailyDataWidget.js",["352","353","354","355","356","357"],"import React, {useEffect, useState} from \"react\";\n\nimport AadharDataService from \"./../../services/customer-data-service\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport Divider from \"@material-ui/core/Divider\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport {useHistory} from \"react-router-dom\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tmarginTop: \"1rem\",\n\t},\n\thighlightButton: {\n\t\t// backgroundColor: theme.palette.background.paper,\n\t\tcolor: theme.palette.info.dark,\n\t},\n}));\n\nexport default function DailyActivityWidget() {\n\tconst [path, setPath] = useState(0);\n\tconst [isUploading, setIsUploading] = useState(false);\n\tconst [record, setRecord] = useState(null);\n\n\tlet history = useHistory();\n\n\tconst classes = useStyles();\n\n\tuseEffect(async () => {\n\t\tlet record = await AadharDataService.getCurrentDailyRecord();\n\t\tsetRecord(record);\n\t}, []);\n\tconsole.log(record)\n\treturn (\n\t\t<Card className={classes.root}>\n\t\t\t<CardContent>\n\t\t\t\t<Box display=\"flex\" alignItems=\"center\" color=\"primary.main\">\n\t\t\t\t\t<EventAvailableIcon style={{marginRight: \"1rem\"}} />\n\t\t\t\t\t<Typography variant=\"h6\">Daily Enrollments</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{!record ? (\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" color=\"warning.main\" marginTop=\"1rem\">\n\t\t\t\t\t\t<ErrorIcon style={{marginRight: \"1rem\"}} />\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\tYou have not submitted a daily enrollment data for <b>{new Date().toLocaleDateString()}</b>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Box display=\"flex\" alignItems=\"center\" color=\"success.main\" marginTop=\"1rem\">\n\t\t\t\t\t\t<DoneIcon style={{marginRight: \"1rem\"}} />\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\tYou have already submitted a daily enrollment update for <b>{new Date().toLocaleDateString()}</b>. You can\n\t\t\t\t\t\t\tupdate it by tapping update below.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t\t<Divider />\n\t\t\t<List component=\"nav\" aria-label=\"main mailbox folders\">\n\t\t\t\t{record ? (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\thistory.push(`/dailyactivity/edit/${record.id}/`);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Update Daily Report\" />\n\t\t\t\t\t</ListItem>\n\t\t\t\t) : (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\thistory.push(\"/dailyactivity/add/\");\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AddCircleIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Submit Daily Report\" />\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t</List>\n\t\t</Card>\n\t);\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/ConfirmationDialogProvider.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/Components/LoadingButton.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Home/RecentNotification.js",["358","359","360","361","362","363","364"],"import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport NotificationsActiveIcon from \"@material-ui/icons/NotificationsActive\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport PeakPwa from \"./../../services/peakpwa\";\nimport { useHistory } from \"react-router\";\nimport { Avatar, Box, IconButton } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // maxWidth: 345,\n    // backgroundColor: '#',\n    marginBottom: \"1rem\",\n  },\n  media: {\n    // height: 140,\n  },\n}));\n\nexport default function RecentNotification() {\n  const classes = useStyles();\n  const [isLoading, setLoading] = useState(false);\n  const [notif, setNotif] = useState(null);\n\n  let history = useHistory();\n\n  React.useEffect(async () => {\n    console.log(\"useEffect\");\n    let notifs = await PeakPwa.webapp.getNotifications(true);\n    console.log(notifs);\n    setNotif(notifs[0]);\n  }, []);\n\n  React.useEffect(async () => {\n    navigator.serviceWorker.addEventListener(\"message\", async (e) => {\n      console.log(\"handlePushReceived - RecentNotification\");\n      console.log(e.data);\n      let notifs = await PeakPwa.webapp.getNotifications(true);\n      console.log(notifs);\n      setNotif(notifs[0]);\n    });\n  }, []);\n\n  //   const handleClick = (e) => {\n  //     setLoading(true);\n  //     PeakPwa.requestNotificationPermissionAndSubscribe();\n  //   }\n\n  return (\n    <div>\n      {notif ? (\n        <Card className={classes.root}>\n          <Box bgcolor=\"success.main\" color=\"primary.contrastText\">\n            <CardContent>\n              {/* <Typography gutterBottom variant=\"h6\">\n                  Push Notification\n              </Typography> */}\n              <Grid container spacing={3}>\n                <Grid item xs={2}>\n                  <Avatar style={{ color: \"white\" }}>\n                    <NotificationsActiveIcon color=\"inherit\" />\n                  </Avatar>\n                </Grid>\n                <Grid item xs={8}>\n                  <Typography variant=\"body1\" component=\"p\">\n                    {notif.changeTitle}\n                  </Typography>\n                  <Typography variant=\"body2\" component=\"p\">\n                    {notif.changeMessage}\n                  </Typography>\n                </Grid>\n                <Grid item xs={2}>\n                  <IconButton\n                    size=\"small\"\n                    color=\"inherit\"\n                    onClick={() => {\n                      history.push(\"/notifications/\");\n                    }}>\n                    <ArrowForwardIosIcon />\n                  </IconButton>\n                </Grid>\n              </Grid>\n            </CardContent>\n          </Box>\n        </Card>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/NotificationPage/NotificationContainer.js",["365","366","367","368"],"import React from \"react\";\nimport PeakPwa from \"./../../services/peakpwa\";\n\nimport NotificationPage from \"./NotificationPage\";\n\nexport default class NotificationContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisPermGranted: PeakPwa.getPermissionStatus() == \"granted\",\n\t\t\tisPushRecieved: false,\n\t\t\terror: null,\n\t\t\tdata: null,\n\t\t};\n\n\t\t// this.handlePermissionChange = this.handlePermissionChange.bind(this);\n\t\tthis.handlePushReceived = this.handlePushReceived.bind(this);\n\t\tthis.deleteNotification = this.deleteNotification.bind(this);\n\t}\n\n\tasync componentDidMount() {\n\t\tnavigator.serviceWorker.addEventListener(\"message\", this.handlePushReceived);\n\n\t\tthis.setState({\n\t\t\terror: null,\n\t\t});\n\n\t\ttry {\n\t\t\tthis.setState({\n\t\t\t\tdata: await PeakPwa.webapp.getNotifications(true),\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tthis.setState({\n\t\t\t\terror: err,\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\t// document.removeEventListener('onSubscriptionChange', this.handlePermissionChange);\n\t\tnavigator.serviceWorker.removeEventListener(\"message\", this.handlePushReceived);\n\t}\n\n\thandlePermissionChange() {\n\t\tconsole.log(\"handlePermissionChange\");\n\t\tthis.setState({\n\t\t\tisPermGranted: PeakPwa.getPermissionStatus() == \"granted\",\n\t\t});\n\t}\n\n\tasync handlePushReceived(e) {\n\t\tif (e.data.action == \"push_received\") {\n\t\t\tthis.setState({\n\t\t\t\tdata: await PeakPwa.webapp.getNotifications(),\n\t\t\t});\n\t\t}\n\t}\n\n\tasync deleteNotification(id) {\n\t\tlet res = await PeakPwa.deleteNotification(id);\n\t\tthis.setState({\n\t\t\tdata: await PeakPwa.webapp.getNotifications(true),\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<NotificationPage items={this.state.data} deleteNotification={this.deleteNotification} error={this.state.error} />\n\t\t);\n\t}\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/Login/ChangePasswordForm.js",["369","370","371","372","373","374","375","376","377","378","379"],"import React from \"react\";\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport logo from \"./../../logo.png\";\n\nimport AuthService from \"./../../services/auth-service\";\n\nimport LoadingButton from \"./../../Components/LoadingButton\";\nimport Constants from \"../../constants\";\nimport { fetchData, getQueryParam } from \"./../../helpers/helpers\";\nimport { Box } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport FormContainer from \"./../../Components/FormContainer\";\n\nexport default function ChangePasswordForm({}) {\n  let history = useHistory();\n  const [isSuccess, setSuccess] = React.useState(null);\n  const [formError, setFormError] = React.useState({});\n  const [state, setState] = React.useState({\n    general_error: \"\",\n    isLoading: false,\n  });\n\n  const [old_password, setOldPassword] = React.useState(\"\");\n  const [new_password, setNewPassword] = React.useState(\"\");\n  const [new_password2, setNewPassword2] = React.useState(\"\");\n\n  const handleSubmit = async function (e) {\n    e.preventDefault();\n    if (!window.navigator.onLine) {\n      this.setState({\n        general_error:\n          \"You are currently offline. Please connect to the internet to perform this action.\",\n        isLoading: false,\n      });\n      return;\n    }\n    if (new_password !== new_password2) {\n      setState({\n        general_error: \"The 2 enetered passwords do not match.\",\n        isLoading: false,\n      });\n      return;\n    }\n    setState({\n      general_error: \"\",\n      isLoading: true,\n    });\n\n    try {\n      await fetchData(\n        \"PUT\",\n        `${Constants.domain}/api/update_password/?self=true`,\n        {\n          old_password: old_password,\n          new_password: new_password,\n          //   send_sms: true,\n        }\n      );\n      setSuccess(true);\n      // let {user_data, state_data} = await AuthService.auth(this.state.username, this.state.password)\n      // onLoginSuccess(user_data, state_data);\n    } catch (err) {\n      //   console.log(err);\n      setFormError(err.response);\n      setState({\n        isLoading: false,\n      });\n      for (const key in err.response) {\n        // setState({\n        // \tgeneral_error: err.response[key],\n        // \tisLoading: false,\n        // });\n        if (key == \"non_field_errors\" || key == \"detail\") {\n          setState({\n            general_error: err.response[key],\n            isLoading: false,\n          });\n        }\n      }\n    }\n  };\n\n  return (\n    <FormContainer>\n      {isSuccess ? (\n        <Box>\n          <Typography>Your password has been updated successfully</Typography>\n\n          <Button\n            style={{ marginTop: \"1rem\" }}\n            onClick={() => {\n              history.push(\"/\");\n            }}\n            color=\"secondary\"\n            variant=\"text\">\n            Return to Home\n          </Button>\n        </Box>\n      ) : (\n        <form\n          className=\"password-reset-req-form\"\n          autoComplete=\"off\"\n          onSubmit={handleSubmit}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <Box textAlign=\"left\">\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                  Enter your old and new password below to update it.\n                </Typography>\n              </Box>\n            </Grid>\n\n            {state.general_error ? (\n              <Grid item xs={12}>\n                <Alert severity=\"error\">{state.general_error}</Alert>\n              </Grid>\n            ) : (\n              \"\"\n            )}\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                name=\"old_password\"\n                label=\"Password\"\n                variant=\"outlined\"\n                type=\"password\"\n                error={Boolean(formError.old_password)}\n                helperText={\n                  formError.old_password\n                    ? formError.old_password.join(\"\\r\\n\")\n                    : \"\"\n                }\n                value={old_password}\n                onChange={(event) => setOldPassword(event.target.value)}\n                disabled={state.isLoading}\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                name=\"new_password\"\n                type=\"password\"\n                label=\"New Password\"\n                variant=\"outlined\"\n                value={new_password}\n                onChange={(event) => setNewPassword(event.target.value)}\n                disabled={state.isLoading}\n                error={Boolean(formError.new_password)}\n                helperText={\n                  formError.new_password\n                    ? formError.new_password.join(\"\\r\\n\")\n                    : \"\"\n                }\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                name=\"new_password\"\n                type=\"password\"\n                label=\"Repeat New Password\"\n                variant=\"outlined\"\n                value={new_password2}\n                onChange={(event) => setNewPassword2(event.target.value)}\n                disabled={state.isLoading}\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <LoadingButton\n                btnText=\"Update Password\"\n                loadingText=\"Updating Password\"\n                isLoading={state.isLoading}\n                color=\"secondary\"\n                fullWidth\n                type=\"submit\"\n                variant=\"contained\"\n                size=\"large\"\n              />\n              <Button\n                style={{ marginTop: \"1rem\" }}\n                onClick={() => {\n                  history.push(\"/\");\n                }}\n                color=\"secondary\"\n                variant=\"text\">\n                Return to Home\n              </Button>\n            </Grid>\n          </Grid>\n        </form>\n      )}\n    </FormContainer>\n  );\n}\n","/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/service-worker.js",[],"/Users/gaurav/Work/hdfc-adhaar-app/hdfc-aadhaar/src/pages/ContactPage/ContactForm.js",["380","381","382","383","384","385","386"],{"ruleId":"387","replacedBy":"388"},{"ruleId":"389","replacedBy":"390"},{"ruleId":"391","severity":1,"message":"392","line":33,"column":7,"nodeType":"393","messageId":"394","endLine":37,"endColumn":8},{"ruleId":"395","severity":1,"message":"396","line":7,"column":8,"nodeType":"397","messageId":"398","endLine":7,"endColumn":16},{"ruleId":"395","severity":1,"message":"399","line":23,"column":8,"nodeType":"397","messageId":"398","endLine":23,"endColumn":17},{"ruleId":"400","severity":1,"message":"401","line":56,"column":39,"nodeType":"402","messageId":"403","endLine":56,"endColumn":41},{"ruleId":"404","severity":1,"message":"405","line":58,"column":6,"nodeType":"406","endLine":58,"endColumn":8,"suggestions":"407"},{"ruleId":"408","severity":1,"message":"409","line":68,"column":15,"nodeType":"410","endLine":68,"endColumn":128},{"ruleId":"404","severity":1,"message":"405","line":34,"column":6,"nodeType":"406","endLine":34,"endColumn":8,"suggestions":"411"},{"ruleId":"412","severity":1,"message":"413","line":9,"column":2,"nodeType":"414","messageId":"415","endLine":9,"endColumn":15,"fix":"416"},{"ruleId":"417","severity":1,"message":"418","line":12,"column":58,"nodeType":"402","messageId":"419","endLine":12,"endColumn":59},{"ruleId":"395","severity":1,"message":"420","line":13,"column":6,"nodeType":"397","messageId":"398","endLine":13,"endColumn":25},{"ruleId":"417","severity":1,"message":"418","line":13,"column":52,"nodeType":"402","messageId":"419","endLine":13,"endColumn":53},{"ruleId":"417","severity":1,"message":"418","line":14,"column":59,"nodeType":"402","messageId":"419","endLine":14,"endColumn":60},{"ruleId":"395","severity":1,"message":"421","line":83,"column":7,"nodeType":"397","messageId":"398","endLine":83,"endColumn":19},{"ruleId":"400","severity":1,"message":"401","line":85,"column":52,"nodeType":"402","messageId":"403","endLine":85,"endColumn":54},{"ruleId":"400","severity":1,"message":"401","line":95,"column":28,"nodeType":"402","messageId":"403","endLine":95,"endColumn":30},{"ruleId":"400","severity":1,"message":"422","line":116,"column":21,"nodeType":"402","messageId":"403","endLine":116,"endColumn":23},{"ruleId":"400","severity":1,"message":"401","line":148,"column":42,"nodeType":"402","messageId":"403","endLine":148,"endColumn":44},{"ruleId":"400","severity":1,"message":"401","line":160,"column":33,"nodeType":"402","messageId":"403","endLine":160,"endColumn":35},{"ruleId":"400","severity":1,"message":"401","line":178,"column":25,"nodeType":"402","messageId":"403","endLine":178,"endColumn":27},{"ruleId":"400","severity":1,"message":"401","line":239,"column":23,"nodeType":"402","messageId":"403","endLine":239,"endColumn":25},{"ruleId":"423","severity":1,"message":"424","line":335,"column":14,"nodeType":"425","messageId":"426","endLine":335,"endColumn":15,"suggestions":"427"},{"ruleId":"400","severity":1,"message":"401","line":355,"column":19,"nodeType":"402","messageId":"403","endLine":355,"endColumn":21},{"ruleId":"395","severity":1,"message":"428","line":378,"column":4,"nodeType":"397","messageId":"398","endLine":378,"endColumn":15},{"ruleId":"400","severity":1,"message":"401","line":408,"column":11,"nodeType":"402","messageId":"403","endLine":408,"endColumn":13},{"ruleId":"429","severity":1,"message":"430","line":408,"column":27,"nodeType":"402","messageId":"431","endLine":408,"endColumn":28},{"ruleId":"429","severity":1,"message":"430","line":408,"column":33,"nodeType":"402","messageId":"431","endLine":408,"endColumn":34},{"ruleId":"400","severity":1,"message":"401","line":452,"column":23,"nodeType":"402","messageId":"403","endLine":452,"endColumn":25},{"ruleId":"432","severity":1,"message":"433","line":515,"column":14,"nodeType":"397","messageId":"434","endLine":515,"endColumn":17},{"ruleId":"400","severity":1,"message":"401","line":845,"column":34,"nodeType":"402","messageId":"403","endLine":845,"endColumn":36},{"ruleId":"395","severity":1,"message":"435","line":852,"column":7,"nodeType":"397","messageId":"398","endLine":852,"endColumn":20},{"ruleId":"400","severity":1,"message":"401","line":869,"column":30,"nodeType":"402","messageId":"403","endLine":869,"endColumn":32},{"ruleId":"400","severity":1,"message":"401","line":889,"column":33,"nodeType":"402","messageId":"403","endLine":889,"endColumn":35},{"ruleId":"395","severity":1,"message":"436","line":910,"column":7,"nodeType":"397","messageId":"398","endLine":910,"endColumn":16},{"ruleId":"400","severity":1,"message":"422","line":1050,"column":30,"nodeType":"402","messageId":"403","endLine":1050,"endColumn":32},{"ruleId":"400","severity":1,"message":"401","line":1079,"column":90,"nodeType":"402","messageId":"403","endLine":1079,"endColumn":92},{"ruleId":"400","severity":1,"message":"422","line":1136,"column":20,"nodeType":"402","messageId":"403","endLine":1136,"endColumn":22},{"ruleId":"400","severity":1,"message":"422","line":1138,"column":35,"nodeType":"402","messageId":"403","endLine":1138,"endColumn":37},{"ruleId":"400","severity":1,"message":"401","line":1141,"column":15,"nodeType":"402","messageId":"403","endLine":1141,"endColumn":17},{"ruleId":"400","severity":1,"message":"401","line":1141,"column":64,"nodeType":"402","messageId":"403","endLine":1141,"endColumn":66},{"ruleId":"395","severity":1,"message":"437","line":1151,"column":7,"nodeType":"397","messageId":"398","endLine":1151,"endColumn":15},{"ruleId":"395","severity":1,"message":"438","line":1200,"column":7,"nodeType":"397","messageId":"398","endLine":1200,"endColumn":15},{"ruleId":"400","severity":1,"message":"401","line":1212,"column":23,"nodeType":"402","messageId":"403","endLine":1212,"endColumn":25},{"ruleId":"432","severity":1,"message":"439","line":1221,"column":12,"nodeType":"397","messageId":"434","endLine":1221,"endColumn":13},{"ruleId":"400","severity":1,"message":"401","line":1259,"column":56,"nodeType":"402","messageId":"403","endLine":1259,"endColumn":58},{"ruleId":"400","severity":1,"message":"401","line":1273,"column":17,"nodeType":"402","messageId":"403","endLine":1273,"endColumn":19},{"ruleId":"400","severity":1,"message":"401","line":1274,"column":15,"nodeType":"402","messageId":"403","endLine":1274,"endColumn":17},{"ruleId":"400","severity":1,"message":"401","line":1322,"column":19,"nodeType":"402","messageId":"403","endLine":1322,"endColumn":21},{"ruleId":"400","severity":1,"message":"401","line":1378,"column":22,"nodeType":"402","messageId":"403","endLine":1378,"endColumn":24},{"ruleId":"395","severity":1,"message":"440","line":1404,"column":13,"nodeType":"397","messageId":"398","endLine":1404,"endColumn":16},{"ruleId":"400","severity":1,"message":"422","line":1418,"column":29,"nodeType":"402","messageId":"403","endLine":1418,"endColumn":31},{"ruleId":"400","severity":1,"message":"422","line":1427,"column":29,"nodeType":"402","messageId":"403","endLine":1427,"endColumn":31},{"ruleId":"400","severity":1,"message":"401","line":1485,"column":52,"nodeType":"402","messageId":"403","endLine":1485,"endColumn":54},{"ruleId":"387","replacedBy":"441"},{"ruleId":"389","replacedBy":"442"},{"ruleId":"395","severity":1,"message":"443","line":2,"column":8,"nodeType":"397","messageId":"398","endLine":2,"endColumn":12},{"ruleId":"395","severity":1,"message":"444","line":5,"column":8,"nodeType":"397","messageId":"398","endLine":5,"endColumn":18},{"ruleId":"395","severity":1,"message":"445","line":6,"column":10,"nodeType":"397","messageId":"398","endLine":6,"endColumn":16},{"ruleId":"395","severity":1,"message":"446","line":6,"column":18,"nodeType":"397","messageId":"398","endLine":6,"endColumn":23},{"ruleId":"400","severity":1,"message":"401","line":24,"column":52,"nodeType":"402","messageId":"403","endLine":24,"endColumn":54},{"ruleId":"400","severity":1,"message":"401","line":45,"column":52,"nodeType":"402","messageId":"403","endLine":45,"endColumn":54},{"ruleId":"400","severity":1,"message":"401","line":52,"column":22,"nodeType":"402","messageId":"403","endLine":52,"endColumn":24},{"ruleId":"395","severity":1,"message":"447","line":9,"column":8,"nodeType":"397","messageId":"398","endLine":9,"endColumn":24},{"ruleId":"395","severity":1,"message":"443","line":10,"column":8,"nodeType":"397","messageId":"398","endLine":10,"endColumn":12},{"ruleId":"400","severity":1,"message":"401","line":97,"column":17,"nodeType":"402","messageId":"403","endLine":97,"endColumn":19},{"ruleId":"400","severity":1,"message":"401","line":97,"column":46,"nodeType":"402","messageId":"403","endLine":97,"endColumn":48},{"ruleId":"448","severity":1,"message":"449","line":172,"column":35,"nodeType":"450","messageId":"403","endLine":172,"endColumn":37},{"ruleId":"395","severity":1,"message":"451","line":198,"column":11,"nodeType":"397","messageId":"398","endLine":198,"endColumn":15},{"ruleId":"400","severity":1,"message":"401","line":215,"column":17,"nodeType":"402","messageId":"403","endLine":215,"endColumn":19},{"ruleId":"400","severity":1,"message":"401","line":215,"column":46,"nodeType":"402","messageId":"403","endLine":215,"endColumn":48},{"ruleId":"448","severity":1,"message":"449","line":303,"column":35,"nodeType":"450","messageId":"403","endLine":303,"endColumn":37},{"ruleId":"400","severity":1,"message":"401","line":352,"column":17,"nodeType":"402","messageId":"403","endLine":352,"endColumn":19},{"ruleId":"400","severity":1,"message":"401","line":352,"column":46,"nodeType":"402","messageId":"403","endLine":352,"endColumn":48},{"ruleId":"395","severity":1,"message":"452","line":3,"column":8,"nodeType":"397","messageId":"398","endLine":3,"endColumn":17},{"ruleId":"395","severity":1,"message":"453","line":13,"column":8,"nodeType":"397","messageId":"398","endLine":13,"endColumn":25},{"ruleId":"395","severity":1,"message":"454","line":11,"column":8,"nodeType":"397","messageId":"398","endLine":11,"endColumn":20},{"ruleId":"395","severity":1,"message":"455","line":12,"column":8,"nodeType":"397","messageId":"398","endLine":12,"endColumn":20},{"ruleId":"400","severity":1,"message":"401","line":45,"column":23,"nodeType":"402","messageId":"403","endLine":45,"endColumn":25},{"ruleId":"400","severity":1,"message":"401","line":45,"column":59,"nodeType":"402","messageId":"403","endLine":45,"endColumn":61},{"ruleId":"395","severity":1,"message":"456","line":70,"column":9,"nodeType":"397","messageId":"398","endLine":70,"endColumn":19},{"ruleId":"395","severity":1,"message":"457","line":1,"column":17,"nodeType":"397","messageId":"398","endLine":1,"endColumn":25},{"ruleId":"395","severity":1,"message":"458","line":8,"column":8,"nodeType":"397","messageId":"398","endLine":8,"endColumn":21},{"ruleId":"395","severity":1,"message":"459","line":10,"column":8,"nodeType":"397","messageId":"398","endLine":10,"endColumn":15},{"ruleId":"395","severity":1,"message":"460","line":13,"column":8,"nodeType":"397","messageId":"398","endLine":13,"endColumn":20},{"ruleId":"395","severity":1,"message":"461","line":4,"column":8,"nodeType":"397","messageId":"398","endLine":4,"endColumn":12},{"ruleId":"395","severity":1,"message":"462","line":5,"column":8,"nodeType":"397","messageId":"398","endLine":5,"endColumn":19},{"ruleId":"395","severity":1,"message":"463","line":6,"column":8,"nodeType":"397","messageId":"398","endLine":6,"endColumn":19},{"ruleId":"395","severity":1,"message":"445","line":7,"column":8,"nodeType":"397","messageId":"398","endLine":7,"endColumn":14},{"ruleId":"395","severity":1,"message":"452","line":10,"column":8,"nodeType":"397","messageId":"398","endLine":10,"endColumn":17},{"ruleId":"395","severity":1,"message":"464","line":12,"column":8,"nodeType":"397","messageId":"398","endLine":12,"endColumn":11},{"ruleId":"395","severity":1,"message":"447","line":14,"column":8,"nodeType":"397","messageId":"398","endLine":14,"endColumn":24},{"ruleId":"395","severity":1,"message":"465","line":15,"column":8,"nodeType":"397","messageId":"398","endLine":15,"endColumn":31},{"ruleId":"395","severity":1,"message":"466","line":18,"column":8,"nodeType":"397","messageId":"398","endLine":18,"endColumn":15},{"ruleId":"395","severity":1,"message":"467","line":33,"column":10,"nodeType":"397","messageId":"398","endLine":33,"endColumn":19},{"ruleId":"395","severity":1,"message":"468","line":35,"column":9,"nodeType":"397","messageId":"398","endLine":35,"endColumn":20},{"ruleId":"395","severity":1,"message":"452","line":3,"column":8,"nodeType":"397","messageId":"398","endLine":3,"endColumn":17},{"ruleId":"395","severity":1,"message":"445","line":7,"column":8,"nodeType":"397","messageId":"398","endLine":7,"endColumn":14},{"ruleId":"395","severity":1,"message":"447","line":9,"column":8,"nodeType":"397","messageId":"398","endLine":9,"endColumn":24},{"ruleId":"400","severity":1,"message":"401","line":72,"column":13,"nodeType":"402","messageId":"403","endLine":72,"endColumn":15},{"ruleId":"400","severity":1,"message":"401","line":72,"column":42,"nodeType":"402","messageId":"403","endLine":72,"endColumn":44},{"ruleId":"395","severity":1,"message":"461","line":3,"column":22,"nodeType":"397","messageId":"398","endLine":3,"endColumn":26},{"ruleId":"395","severity":1,"message":"462","line":3,"column":28,"nodeType":"397","messageId":"398","endLine":3,"endColumn":39},{"ruleId":"395","severity":1,"message":"463","line":3,"column":41,"nodeType":"397","messageId":"398","endLine":3,"endColumn":52},{"ruleId":"395","severity":1,"message":"446","line":3,"column":60,"nodeType":"397","messageId":"398","endLine":3,"endColumn":65},{"ruleId":"395","severity":1,"message":"454","line":25,"column":8,"nodeType":"397","messageId":"398","endLine":25,"endColumn":20},{"ruleId":"395","severity":1,"message":"455","line":26,"column":8,"nodeType":"397","messageId":"398","endLine":26,"endColumn":20},{"ruleId":"395","severity":1,"message":"469","line":31,"column":8,"nodeType":"397","messageId":"398","endLine":31,"endColumn":21},{"ruleId":"395","severity":1,"message":"470","line":40,"column":9,"nodeType":"397","messageId":"398","endLine":40,"endColumn":20},{"ruleId":"395","severity":1,"message":"471","line":40,"column":22,"nodeType":"397","messageId":"398","endLine":40,"endColumn":36},{"ruleId":"395","severity":1,"message":"472","line":45,"column":26,"nodeType":"397","messageId":"398","endLine":45,"endColumn":39},{"ruleId":"404","severity":1,"message":"473","line":67,"column":5,"nodeType":"406","endLine":67,"endColumn":19,"suggestions":"474"},{"ruleId":"400","severity":1,"message":"401","line":223,"column":23,"nodeType":"402","messageId":"403","endLine":223,"endColumn":25},{"ruleId":"395","severity":1,"message":"452","line":2,"column":8,"nodeType":"397","messageId":"398","endLine":2,"endColumn":17},{"ruleId":"395","severity":1,"message":"452","line":3,"column":8,"nodeType":"397","messageId":"398","endLine":3,"endColumn":17},{"ruleId":"395","severity":1,"message":"445","line":6,"column":8,"nodeType":"397","messageId":"398","endLine":6,"endColumn":14},{"ruleId":"395","severity":1,"message":"447","line":8,"column":8,"nodeType":"397","messageId":"398","endLine":8,"endColumn":24},{"ruleId":"395","severity":1,"message":"475","line":15,"column":9,"nodeType":"397","messageId":"398","endLine":15,"endColumn":18},{"ruleId":"395","severity":1,"message":"399","line":20,"column":8,"nodeType":"397","messageId":"398","endLine":20,"endColumn":17},{"ruleId":"395","severity":1,"message":"445","line":2,"column":8,"nodeType":"397","messageId":"398","endLine":2,"endColumn":14},{"ruleId":"395","severity":1,"message":"476","line":32,"column":22,"nodeType":"397","messageId":"398","endLine":32,"endColumn":36},{"ruleId":"395","severity":1,"message":"472","line":36,"column":26,"nodeType":"397","messageId":"398","endLine":36,"endColumn":39},{"ruleId":"404","severity":1,"message":"477","line":38,"column":12,"nodeType":"478","endLine":48,"endColumn":3},{"ruleId":"400","severity":1,"message":"401","line":167,"column":23,"nodeType":"402","messageId":"403","endLine":167,"endColumn":25},{"ruleId":"395","severity":1,"message":"452","line":2,"column":8,"nodeType":"397","messageId":"398","endLine":2,"endColumn":17},{"ruleId":"395","severity":1,"message":"479","line":8,"column":8,"nodeType":"397","messageId":"398","endLine":8,"endColumn":25},{"ruleId":"395","severity":1,"message":"452","line":2,"column":8,"nodeType":"397","messageId":"398","endLine":2,"endColumn":17},{"ruleId":"395","severity":1,"message":"445","line":6,"column":8,"nodeType":"397","messageId":"398","endLine":6,"endColumn":14},{"ruleId":"395","severity":1,"message":"447","line":8,"column":8,"nodeType":"397","messageId":"398","endLine":8,"endColumn":24},{"ruleId":"395","severity":1,"message":"480","line":28,"column":7,"nodeType":"397","messageId":"398","endLine":28,"endColumn":9},{"ruleId":"395","severity":1,"message":"452","line":3,"column":8,"nodeType":"397","messageId":"398","endLine":3,"endColumn":17},{"ruleId":"395","severity":1,"message":"445","line":3,"column":8,"nodeType":"397","messageId":"398","endLine":3,"endColumn":14},{"ruleId":"395","severity":1,"message":"461","line":5,"column":8,"nodeType":"397","messageId":"398","endLine":5,"endColumn":12},{"ruleId":"395","severity":1,"message":"446","line":8,"column":8,"nodeType":"397","messageId":"398","endLine":8,"endColumn":13},{"ruleId":"395","severity":1,"message":"481","line":30,"column":9,"nodeType":"397","messageId":"398","endLine":30,"endColumn":20},{"ruleId":"395","severity":1,"message":"476","line":30,"column":22,"nodeType":"397","messageId":"398","endLine":30,"endColumn":36},{"ruleId":"395","severity":1,"message":"472","line":32,"column":26,"nodeType":"397","messageId":"398","endLine":32,"endColumn":39},{"ruleId":"400","severity":1,"message":"401","line":180,"column":23,"nodeType":"402","messageId":"403","endLine":180,"endColumn":25},{"ruleId":"395","severity":1,"message":"452","line":3,"column":8,"nodeType":"397","messageId":"398","endLine":3,"endColumn":17},{"ruleId":"395","severity":1,"message":"445","line":6,"column":8,"nodeType":"397","messageId":"398","endLine":6,"endColumn":14},{"ruleId":"395","severity":1,"message":"447","line":8,"column":8,"nodeType":"397","messageId":"398","endLine":8,"endColumn":24},{"ruleId":"400","severity":1,"message":"401","line":87,"column":13,"nodeType":"402","messageId":"403","endLine":87,"endColumn":15},{"ruleId":"400","severity":1,"message":"401","line":87,"column":42,"nodeType":"402","messageId":"403","endLine":87,"endColumn":44},{"ruleId":"395","severity":1,"message":"475","line":2,"column":9,"nodeType":"397","messageId":"398","endLine":2,"endColumn":18},{"ruleId":"395","severity":1,"message":"482","line":6,"column":8,"nodeType":"397","messageId":"398","endLine":6,"endColumn":13},{"ruleId":"400","severity":1,"message":"401","line":32,"column":25,"nodeType":"402","messageId":"403","endLine":32,"endColumn":27},{"ruleId":"400","severity":1,"message":"401","line":39,"column":16,"nodeType":"402","messageId":"403","endLine":39,"endColumn":18},{"ruleId":"400","severity":1,"message":"401","line":95,"column":23,"nodeType":"402","messageId":"403","endLine":95,"endColumn":25},{"ruleId":"400","severity":1,"message":"401","line":107,"column":23,"nodeType":"402","messageId":"403","endLine":107,"endColumn":25},{"ruleId":"400","severity":1,"message":"401","line":123,"column":57,"nodeType":"402","messageId":"403","endLine":123,"endColumn":59},{"ruleId":"400","severity":1,"message":"401","line":133,"column":26,"nodeType":"402","messageId":"403","endLine":133,"endColumn":28},{"ruleId":"395","severity":1,"message":"437","line":155,"column":7,"nodeType":"397","messageId":"398","endLine":155,"endColumn":15},{"ruleId":"400","severity":1,"message":"401","line":170,"column":40,"nodeType":"402","messageId":"403","endLine":170,"endColumn":42},{"ruleId":"395","severity":1,"message":"445","line":5,"column":8,"nodeType":"397","messageId":"398","endLine":5,"endColumn":14},{"ruleId":"395","severity":1,"message":"483","line":7,"column":8,"nodeType":"397","messageId":"398","endLine":7,"endColumn":22},{"ruleId":"395","severity":1,"message":"462","line":8,"column":8,"nodeType":"397","messageId":"398","endLine":8,"endColumn":19},{"ruleId":"395","severity":1,"message":"458","line":15,"column":8,"nodeType":"397","messageId":"398","endLine":15,"endColumn":21},{"ruleId":"395","severity":1,"message":"484","line":22,"column":8,"nodeType":"397","messageId":"398","endLine":22,"endColumn":23},{"ruleId":"395","severity":1,"message":"485","line":43,"column":9,"nodeType":"397","messageId":"398","endLine":43,"endColumn":13},{"ruleId":"395","severity":1,"message":"486","line":43,"column":15,"nodeType":"397","messageId":"398","endLine":43,"endColumn":22},{"ruleId":"395","severity":1,"message":"472","line":48,"column":26,"nodeType":"397","messageId":"398","endLine":48,"endColumn":39},{"ruleId":"404","severity":1,"message":"477","line":53,"column":12,"nodeType":"478","endLine":56,"endColumn":3},{"ruleId":"395","severity":1,"message":"447","line":20,"column":8,"nodeType":"397","messageId":"398","endLine":20,"endColumn":24},{"ruleId":"395","severity":1,"message":"485","line":36,"column":9,"nodeType":"397","messageId":"398","endLine":36,"endColumn":13},{"ruleId":"395","severity":1,"message":"486","line":36,"column":15,"nodeType":"397","messageId":"398","endLine":36,"endColumn":22},{"ruleId":"395","severity":1,"message":"481","line":37,"column":9,"nodeType":"397","messageId":"398","endLine":37,"endColumn":20},{"ruleId":"395","severity":1,"message":"476","line":37,"column":22,"nodeType":"397","messageId":"398","endLine":37,"endColumn":36},{"ruleId":"404","severity":1,"message":"477","line":44,"column":12,"nodeType":"478","endLine":47,"endColumn":3},{"ruleId":"395","severity":1,"message":"462","line":5,"column":8,"nodeType":"397","messageId":"398","endLine":5,"endColumn":19},{"ruleId":"395","severity":1,"message":"445","line":7,"column":8,"nodeType":"397","messageId":"398","endLine":7,"endColumn":14},{"ruleId":"395","severity":1,"message":"447","line":10,"column":8,"nodeType":"397","messageId":"398","endLine":10,"endColumn":24},{"ruleId":"395","severity":1,"message":"467","line":30,"column":10,"nodeType":"397","messageId":"398","endLine":30,"endColumn":19},{"ruleId":"395","severity":1,"message":"487","line":30,"column":21,"nodeType":"397","messageId":"398","endLine":30,"endColumn":31},{"ruleId":"404","severity":1,"message":"477","line":35,"column":19,"nodeType":"478","endLine":40,"endColumn":4},{"ruleId":"404","severity":1,"message":"477","line":42,"column":19,"nodeType":"478","endLine":50,"endColumn":4},{"ruleId":"400","severity":1,"message":"401","line":11,"column":49,"nodeType":"402","messageId":"403","endLine":11,"endColumn":51},{"ruleId":"400","severity":1,"message":"401","line":49,"column":49,"nodeType":"402","messageId":"403","endLine":49,"endColumn":51},{"ruleId":"400","severity":1,"message":"401","line":54,"column":21,"nodeType":"402","messageId":"403","endLine":54,"endColumn":23},{"ruleId":"395","severity":1,"message":"488","line":62,"column":7,"nodeType":"397","messageId":"398","endLine":62,"endColumn":10},{"ruleId":"395","severity":1,"message":"452","line":2,"column":8,"nodeType":"397","messageId":"398","endLine":2,"endColumn":17},{"ruleId":"395","severity":1,"message":"446","line":6,"column":8,"nodeType":"397","messageId":"398","endLine":6,"endColumn":13},{"ruleId":"395","severity":1,"message":"447","line":9,"column":8,"nodeType":"397","messageId":"398","endLine":9,"endColumn":24},{"ruleId":"395","severity":1,"message":"443","line":10,"column":8,"nodeType":"397","messageId":"398","endLine":10,"endColumn":12},{"ruleId":"395","severity":1,"message":"489","line":12,"column":8,"nodeType":"397","messageId":"398","endLine":12,"endColumn":19},{"ruleId":"395","severity":1,"message":"490","line":16,"column":21,"nodeType":"397","messageId":"398","endLine":16,"endColumn":34},{"ruleId":"395","severity":1,"message":"491","line":19,"column":10,"nodeType":"397","messageId":"398","endLine":19,"endColumn":16},{"ruleId":"395","severity":1,"message":"492","line":19,"column":18,"nodeType":"397","messageId":"398","endLine":19,"endColumn":23},{"ruleId":"448","severity":1,"message":"449","line":23,"column":44,"nodeType":"450","messageId":"403","endLine":23,"endColumn":46},{"ruleId":"400","severity":1,"message":"401","line":82,"column":17,"nodeType":"402","messageId":"403","endLine":82,"endColumn":19},{"ruleId":"400","severity":1,"message":"401","line":82,"column":46,"nodeType":"402","messageId":"403","endLine":82,"endColumn":48},{"ruleId":"395","severity":1,"message":"452","line":2,"column":8,"nodeType":"397","messageId":"398","endLine":2,"endColumn":17},{"ruleId":"395","severity":1,"message":"446","line":6,"column":8,"nodeType":"397","messageId":"398","endLine":6,"endColumn":13},{"ruleId":"395","severity":1,"message":"445","line":7,"column":8,"nodeType":"397","messageId":"398","endLine":7,"endColumn":14},{"ruleId":"395","severity":1,"message":"493","line":25,"column":20,"nodeType":"397","messageId":"398","endLine":25,"endColumn":32},{"ruleId":"395","severity":1,"message":"472","line":28,"column":26,"nodeType":"397","messageId":"398","endLine":28,"endColumn":39},{"ruleId":"400","severity":1,"message":"401","line":78,"column":13,"nodeType":"402","messageId":"403","endLine":78,"endColumn":15},{"ruleId":"400","severity":1,"message":"401","line":78,"column":42,"nodeType":"402","messageId":"403","endLine":78,"endColumn":44},"no-native-reassign",["494"],"no-negated-in-lhs",["495"],"no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","no-unused-vars","'MenuIcon' is defined but never used.","Identifier","unusedVar","'Constants' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["496"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["497"],"strict","'use strict' is unnecessary inside of modules.","ExpressionStatement","module",{"range":"498","text":"499"},"no-useless-concat","Unexpected string concatenation of literals.","unexpectedConcat","'LS_USER_PERM_STATUS' is assigned a value but never used.","'isSubscribed' is assigned a value but never used.","Expected '!==' and instead saw '!='.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["500","501"],"'addedToHome' is assigned a value but never used.","no-mixed-operators","Unexpected mix of '&' and '|'.","unexpectedMixedOperator","no-redeclare","'key' is already defined.","redeclared","'userSubStatus' is assigned a value but never used.","'webPushId' is assigned a value but never used.","'response' is assigned a value but never used.","'serialno' is assigned a value but never used.","'i' is already defined.","'key' is assigned a value but never used.",["494"],["495"],"'logo' is defined but never used.","'Typography' is defined but never used.","'Button' is defined but never used.","'Paper' is defined but never used.","'CircularProgress' is defined but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","'resp' is assigned a value but never used.","'Container' is defined but never used.","'AadharDataService' is defined but never used.","'ListItemIcon' is defined but never used.","'ListItemText' is defined but never used.","'isDeleting' is assigned a value but never used.","'useState' is defined but never used.","'ListSubheader' is defined but never used.","'Divider' is defined but never used.","'GroupAddIcon' is defined but never used.","'Card' is defined but never used.","'CardActions' is defined but never used.","'CardContent' is defined but never used.","'Box' is defined but never used.","'NotificationsActiveIcon' is defined but never used.","'PeakPwa' is defined but never used.","'isLoading' is assigned a value but never used.","'handleClick' is assigned a value but never used.","'FormContainer' is defined but never used.","'syncedItems' is assigned a value but never used.","'setSyncedItems' is assigned a value but never used.","'closeSnackbar' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'loadList'. Either include it or remove the dependency array.",["502"],"'fetchData' is defined but never used.","'setIsUploading' is assigned a value but never used.","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","'DailyActivityList' is defined but never used.","'dt' is assigned a value but never used.","'isUploading' is assigned a value but never used.","'axios' is defined but never used.","'CardActionArea' is defined but never used.","'CheckCircleIcon' is defined but never used.","'path' is assigned a value but never used.","'setPath' is assigned a value but never used.","'setLoading' is assigned a value but never used.","'res' is assigned a value but never used.","'AuthService' is defined but never used.","'getQueryParam' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'setFormError' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"503","fix":"504"},{"desc":"503","fix":"505"},[232,245],"",{"messageId":"506","fix":"507","desc":"508"},{"messageId":"509","fix":"510","desc":"511"},{"desc":"512","fix":"513"},"Update the dependencies array to be: [history]",{"range":"514","text":"515"},{"range":"516","text":"515"},"removeEscape",{"range":"517","text":"499"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"518","text":"519"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [loadList, selectedDate]",{"range":"520","text":"521"},[1783,1785],"[history]",[889,891],[9885,9886],[9885,9885],"\\",[2789,2803],"[loadList, selectedDate]"]